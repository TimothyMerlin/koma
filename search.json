[{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://timothymerlin.github.io/koma/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"MCMC Diagnostics for Estimated SEM","text":"vignette shows inspect MCMC diagnostics koma_estimate object: trace_plot() raw draw trajectories. running_mean_plot() cumulative averages. acf_plot() autocorrelation across lags.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"build-a-small-model","dir":"Articles","previous_headings":"","what":"Build a Small Model","title":"MCMC Diagnostics for Estimated SEM","text":"","code":"equations <- \"consumption ~ gdp + consumption.L(1) + interest_rate, investment ~ gdp + investment.L(1) + interest_rate, gdp == (consumption/gdp)*consumption + (investment/gdp)*investment\"  exogenous_variables <- c(\"interest_rate\")  sys_eq <- system_of_equations(     equations = equations,     exogenous_variables = exogenous_variables )  dates <- list(     estimation = list(start = c(1996, 1), end = c(2019, 4)),     forecast = list(start = c(2023, 1), end = c(2023, 4)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"prepare-data-and-estimate","dir":"Articles","previous_headings":"","what":"Prepare Data and Estimate","title":"MCMC Diagnostics for Estimated SEM","text":"","code":"data(\"small_open_economy\")  series <- unique(c(sys_eq$endogenous_variables, sys_eq$exogenous_variables)) ts_data <- small_open_economy[series]  ts_data <- lapply(ts_data, function(x) {     as_ets(x, series_type = \"level\", method = \"diff_log\") }) ts_data$interest_rate <- as_ets(     ts_data$interest_rate,     series_type = \"rate\",     method = \"none\" )  set.seed(123) estimates <- estimate(   ts_data = ts_data,   sys_eq = sys_eq,   dates = dates,   options = list(gibbs = list(ndraws = 200)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"trace-plots","dir":"Articles","previous_headings":"","what":"Trace Plots","title":"MCMC Diagnostics for Estimated SEM","text":"Trace plots help detect non-stationary behavior abrupt jumps chain.","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {     trace_plot(         estimates,         variables = c(\"consumption\", \"investment\"),         params = c(\"beta\", \"gamma\"),         thin = 2,         max_draws = 100     ) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"running-means","dir":"Articles","previous_headings":"","what":"Running Means","title":"MCMC Diagnostics for Estimated SEM","text":"Running means make long-run stabilization posterior draws easier assess.","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {     running_mean_plot(         estimates,         variables = c(\"consumption\", \"investment\"),         params = c(\"beta\", \"gamma\"),         grace_draws = 25     ) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"autocorrelation-function-acf-plots","dir":"Articles","previous_headings":"","what":"Autocorrelation Function (ACF) Plots","title":"MCMC Diagnostics for Estimated SEM","text":"ACF plots highlight serial dependence posterior draws lag.","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {     acf_plot(         estimates,         variables = c(\"consumption\", \"investment\"),         params = c(\"beta\", \"gamma\"),         max_lag = 20     ) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-diagnostics.html","id":"interactive-diagnostics","dir":"Articles","previous_headings":"","what":"Interactive Diagnostics","title":"MCMC Diagnostics for Estimated SEM","text":"plotly installed, diagnostic plots can returned interactive objects setting interactive = TRUE.","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE) &&     requireNamespace(\"plotly\", quietly = TRUE)) {     acf_plot(         estimates,         variables = \"consumption\",         params = \"beta\",         interactive = TRUE     ) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Equation Syntax Reference","text":"vignette describes syntax specifying stochastic identity equations, priors, lags koma package.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"stochastic-equations","dir":"Articles","previous_headings":"Overview","what":"1. Stochastic Equations","title":"Equation Syntax Reference","text":"Stochastic (regression) equations model dependent variable error term. intercept included default.","code":"# With default intercept: consumption ~ gdp + consumption.L(1)  # Without intercept: consumption ~ gdp + consumption.L(1) - 1  # Explicit intercept: consumption ~ 1 + gdp + consumption.L(1)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"identity-equations","dir":"Articles","previous_headings":"Overview","what":"2. Identity Equations","title":"Equation Syntax Reference","text":"Identity equations enforce exact relationships.","code":"# Identity equations with explicitly defined weights: # To aggregate the component growth rates into a growth rate for GDP we need to define weights. # This is done by specifying the weights in the equation.  # You can, e.g. use the nominal level weights of the last observed period. gdp == 0.7*consumption + 0.2*investment + 0.2*government - 0.1*net_exports"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"injected-parameters","dir":"Articles","previous_headings":"Overview","what":"3. Injected Parameters","title":"Equation Syntax Reference","text":"","code":"# Ratios computed from data: gdp == (nom_cons/nom_gdp) * cons"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"lag-notation","dir":"Articles","previous_headings":"Overview","what":"4. Lag Notation","title":"Equation Syntax Reference","text":"Lags specified L() lag() notation. Ranges combinations supported.","code":"# Single lag: x.L(1) lag(x, 1)  # Range of lags: x.L(1:4) lag(x, 1:4)  # Mix range and specific lags: x.L(1:3, 5)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"priors","dir":"Articles","previous_headings":"Overview","what":"5. Priors","title":"Equation Syntax Reference","text":"Specify priors coefficients using curly braces {}.","code":"# normal(1,0.1): {1, 0.1} x3"},{"path":"https://timothymerlin.github.io/koma/articles/koma-equations.html","id":"equation-specific-tau","dir":"Articles","previous_headings":"Overview","what":"6. Equation-specific Tau","title":"Equation Syntax Reference","text":"can override default tau gibbs_settings single equation appending [tau = value] equation. acceptance rate falls outside 30%-60 %, warning emitted.","code":"\"consumption ~ constant + gdp + consumption.L(1) + consumption.L(2) [tau = 1.2]\""},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Error Correction in a Small Open Economy Model","text":"set variables cointegrated—meaning share common long-run stochastic trend—short-run dynamics can represented using error-correction model (ECM). ECM decomposes movements short-run adjustments long-run equilibrium relationship, deviations equilibrium feeding back short-run growth error-correction term. background, see https://en.wikipedia.org/wiki/Error_correction_model. vignette, specify small structural system includes ECM exports. construct required level variables, prepare data, estimate model.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"export-ecm-intuition","dir":"Articles","previous_headings":"Overview","what":"Export ECM Intuition","title":"Error Correction in a Small Open Economy Model","text":"omit contemporaneous exchange-rate growth short-run dynamics, assuming exports respond short-run exchange-rate movements vignette. export equation motivated standard export-demand relationship. long run, export volumes depend foreign demand, proxied world GDP, relative prices international competitiveness, proxied exchange rate. exports, world GDP, exchange rate cointegrated, long-run relationship can written levels. Short-run export growth modeled function current changes foreign demand, together error-correction term captures deviation long-run equilibrium previous period. coefficient term measures speed exports adjust back toward long-run relationship following shock. exports xtx_t, world GDP yty_t, exchange rate qtq_t cointegrated, long-run equilibrium relationship can written xt=α+βyyt+βqqt+ut. x_t = \\alpha + \\beta_y y_t + \\beta_q q_t + u_t . deviation equilibrium previous period defines error-correction term, ECTt−1=xt−1−α−βyyt−1−βqqt−1. \\mathrm{ECT}_{t-1} = x_{t-1} - \\alpha - \\beta_y y_{t-1} - \\beta_q q_{t-1} . minimal one-lag ECM export growth Δxt=γ+ϕΔxt−1+θΔyt+λECTt−1+εt. \\Delta x_t = \\gamma + \\phi\\,\\Delta x_{t-1} + \\theta\\,\\Delta y_t + \\lambda\\,\\mathrm{ECT}_{t-1} + \\varepsilon_t . Substituting error-correction term ECM expanding yields Δxt=γ+ϕΔxt−1+θΔyt+λxt−1−λα−λβyyt−1−λβqqt−1+εt. \\begin{aligned} \\Delta x_t &= \\gamma + \\phi\\,\\Delta x_{t-1} + \\theta\\,\\Delta y_t \\\\ &\\quad + \\lambda x_{t-1} - \\lambda\\alpha - \\lambda\\beta_y y_{t-1} - \\lambda\\beta_q q_{t-1} + \\varepsilon_t . \\end{aligned} form estimated model, lagged levels enter directly. coefficient λ\\lambda speed adjustment toward long-run equilibrium. long-run coefficients recovered βy=−coef(yt−1)λ,βq=−coef(qt−1)λ. \\beta_y = -\\frac{\\text{coef}(y_{t-1})}{\\lambda}, \\qquad \\beta_q = -\\frac{\\text{coef}(q_{t-1})}{\\lambda}.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"define-the-sem","dir":"Articles","previous_headings":"","what":"Define the SEM","title":"Error Correction in a Small Open Economy Model","text":"now translate error-correction representation structural system can estimated directly. Rather including error-correction term explicitly, model written lagged level variables. formulation algebraically equivalent ECM expansion allows speed--adjustment long-run relationships recovered estimated coefficients.","code":"equations <- \"consumption ~ gdp + consumption.L(1), investment ~ investment.L(1), exports ~ world_gdp + exports.L(1) + exports_level.L(1) + world_gdp_level.L(1) + exchange_rate_level.L(1), imports ~ exports + consumption + investment + imports.L(1), gdp == 0.6*consumption + 0.6*domestic_demand + 0.5*exports - 0.4*imports, domestic_demand == 0.6*consumption + 0.4*investment, exports_level == 1*exports + 1*exports_level.L(1), world_gdp_level == 1*world_gdp + 1*world_gdp_level.L(1), exchange_rate_level == 1*exchange_rate + 1*exchange_rate_level.L(1)\"  exogenous_variables <- c(\"world_gdp\", \"exchange_rate\")"},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"create-the-sem","dir":"Articles","previous_headings":"","what":"Create the SEM","title":"Error Correction in a Small Open Economy Model","text":"","code":"sys_eq <- system_of_equations(     equations = equations,     exogenous_variables = exogenous_variables )  print(sys_eq) #>  #> ── System of Equations ───────────────────────────────────────────────────────── #>         consumption ~  constant + gdp + consumption.L(1) #>          investment ~  constant + investment.L(1) #>             exports ~  constant + world_gdp + exports.L(1) + exports_level.L(1) + world_gdp_level.L(1) + exchange_rate_level.L(1) #>             imports ~  constant + exports + consumption + investment + imports.L(1) #>                 gdp == 0.6 * consumption + 0.6 * domestic_demand + 0.5 * exports-0.4 * imports #>     domestic_demand == 0.6 * consumption + 0.4 * investment #>       exports_level == 1 * exports + 1 * exports_level.L(1) #>     world_gdp_level == 1 * world_gdp + 1 * world_gdp_level.L(1) #> exchange_rate_level == 1 * exchange_rate + 1 * exchange_rate_level.L(1)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"preparing-the-data","dir":"Articles","previous_headings":"","what":"Preparing the Data","title":"Error Correction in a Small Open Economy Model","text":"koma estimated growth rates, error correction terms need enter levels. create level terms series_type = \"level\" method = \"none\" rate() leaves unchanged estimation. use small_open_economy, provides needed series levels. Convert base series ets objects first, add level terms error correction. Adding level terms base conversion avoids overwriting list rebuilt. take logs make long-run relationship linear levels match diff_log transformation used growth rates. Multiplying 100 keeps level terms scale diff_log, also returns percent changes.","code":"?small_open_economy ts_data <- small_open_economy[c(     \"consumption\", \"investment\", \"exports\", \"imports\",     \"gdp\", \"domestic_demand\", \"world_gdp\", \"exchange_rate\" )]  series <- names(ts_data) ts_data <- lapply(series, function(x) {     as_ets(ts_data[[x]],         series_type = \"level\", method = \"diff_log\"     ) }) names(ts_data) <- series  ts_data$exports_level <- as_ets(log(ts_data$exports) * 100,     series_type = \"level\", method = \"none\" ) ts_data$world_gdp_level <- as_ets(log(ts_data$world_gdp) * 100,     series_type = \"level\", method = \"none\" ) ts_data$exchange_rate_level <- as_ets(log(ts_data$exchange_rate) * 100,     series_type = \"level\", method = \"none\" )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"estimation-and-forecast-dates","dir":"Articles","previous_headings":"","what":"Estimation and Forecast Dates","title":"Error Correction in a Small Open Economy Model","text":"data prepared, define estimation forecast windows.","code":"dates <- list(     estimation = list(start = c(1996, 1), end = c(2019, 4)),     forecast = list(start = c(2023, 1), end = c(2024, 4)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"estimating-the-model","dir":"Articles","previous_headings":"","what":"Estimating the Model","title":"Error Correction in a Small Open Economy Model","text":"adjustment speed -0.24, negative implies 24% gap closes period. long-run elasticities imply 1% rise world GDP associated roughly 2.28% higher exports long run, 1% increase exchange-rate index implies 0.25% higher exports higher values indicate depreciation (exchange rate CHF/EUR, higher values mean depreciation; flip sign index defined way).","code":"estimates <- estimate(     sys_eq,     ts_data = ts_data,     dates = dates ) #>  #> ── Gibbs Sampler Settings ────────────────────────────────────────────────────── #> ── System Wide Settings ── #> • Number of draws (`ndraws`): 2000 #> • Burn-in ratio (`burnin_ratio`): 0.5 #> • Burn-in (`burnin`): 1000 #> • Store frequency (`nstore`): 1 #> • Number of saved draws (`nsave`): 1000 #> • Tau (`tau`): 1.1 #>  #>  #> ── Estimation ────────────────────────────────────────────────────────────────── print(estimates) #>  #> ── Estimates ─────────────────────────────────────────────────────────────────── #>         consumption ~  0.35 - 0.01 * gdp  +  0.1 * consumption.L(1) #>          investment ~  0.45  +  0.21 * investment.L(1) #>             exports ~  - 1083.18  +  2.87 * world_gdp - 0.19 * exports.L(1) - 0.24 * exports_level.L(1)  +  0.55 * world_gdp_level.L(1)  +  0.06 * exchange_rate_level.L(1) #>             imports ~  - 0.01 - 0.01 * exports  +  1.51 * consumption  +  0.98 * investment - 0.13 * imports.L(1) #>                 gdp == 0.6 * consumption  +  0.6 * domestic_demand  +  0.5 * exports - 0.4 * imports #>     domestic_demand == 0.6 * consumption  +  0.4 * investment #>       exports_level == 1 * exports  +  1 * exports_level.L(1) #>     world_gdp_level == 1 * world_gdp  +  1 * world_gdp_level.L(1) #> exchange_rate_level == 1 * exchange_rate  +  1 * exchange_rate_level.L(1) summary(estimates, variables = \"exports\") #>  #> ============================================= #>                           exports             #> --------------------------------------------- #> constant                   -1083.18           #>                           [-1643.61; -529.64] #> exports.L(1)                  -0.19           #>                           [   -0.37;   -0.01] #> exports_level.L(1)            -0.24           #>                           [   -0.37;   -0.12] #> world_gdp_level.L(1)           0.55           #>                           [    0.27;    0.84] #> exchange_rate_level.L(1)       0.06           #>                           [    0.01;    0.11] #> world_gdp                      2.87           #>                           [    1.93;    3.76] #> ============================================= #> Posterior mean (90% credible interval: [5.0%, 95.0%]) #> Estimation period: 1996 Q1 - 2019 Q4 ecm_stats <- summary(estimates, variables = \"exports\") ecm_coef <- ecm_stats[[\"exports\"]]@coef adjustment_speed <- ecm_coef[\"exports_level.L(1)\"] long_run_world_gdp <- -ecm_coef[\"world_gdp_level.L(1)\"] / adjustment_speed long_run_exchange_rate <- -ecm_coef[\"exchange_rate_level.L(1)\"] / adjustment_speed  sprintf(     \"Adjustment speed: %.3f, Long-run world GDP: %.3f, Exchange rate: %.3f\",     adjustment_speed,     long_run_world_gdp,     long_run_exchange_rate ) #> [1] \"Adjustment speed: -0.242, Long-run world GDP: 2.285, Exchange rate: 0.247\""},{"path":"https://timothymerlin.github.io/koma/articles/koma-error-correction.html","id":"forecasting","dir":"Articles","previous_headings":"","what":"Forecasting","title":"Error Correction in a Small Open Economy Model","text":"","code":"estimates$ts_data[sys_eq$endogenous_variables] <-     lapply(sys_eq$endogenous_variables, function(x) {         stats::window(estimates$ts_data[[x]], end = c(2022, 4))     })  forecasts <- forecast(     estimates,     dates = dates ) #>  #> ── Forecast ──────────────────────────────────────────────────────────────────── print(forecasts) #>         consumption investment exports imports    gdp domestic_demand #> 2023 Q1      0.3747     0.3695  0.8578  1.0266 0.4666          0.3726 #> 2023 Q2      0.3810     0.4639  0.7363  0.7798 0.5333          0.4141 #> 2023 Q3      0.3714     0.5915  0.6504  0.9925 0.4267          0.4594 #> 2023 Q4      0.3995     0.5453  0.2972  0.9804 0.2708          0.4578 #> 2024 Q1      0.3907     0.5046  0.8627  0.8809 0.5751          0.4362 #> 2024 Q2      0.3899     0.4520  0.6635  0.8540 0.4729          0.4147 #> 2024 Q3      0.3862     0.5442  1.3581  0.9590 0.7968          0.4494 #> 2024 Q4      0.4007     0.5277  0.5356  1.1307 0.3268          0.4515 #>         exports_level world_gdp_level exchange_rate_level world_gdp #> 2023 Q1      1168.954        2474.282             -0.7646    0.4827 #> 2023 Q2      1169.690        2474.690             -2.1510    0.4083 #> 2023 Q3      1170.340        2475.116             -3.9379    0.4259 #> 2023 Q4      1170.637        2475.407             -4.6881    0.2906 #> 2024 Q1      1171.500        2475.865             -5.2093    0.4586 #> 2024 Q2      1172.164        2476.261             -2.6797    0.3955 #> 2024 Q3      1173.522        2476.770             -4.9959    0.5096 #> 2024 Q4      1174.057        2477.210             -6.6168    0.4393 #>         exchange_rate #> 2023 Q1        0.9217 #> 2023 Q2       -1.3863 #> 2023 Q3       -1.7869 #> 2023 Q4       -0.7502 #> 2024 Q1       -0.5212 #> 2024 Q2        2.5295 #> 2024 Q3       -2.3162 #> 2024 Q4       -1.6209 rate(forecasts$mean$exports) #> rate, diff_log, c(118297.572909318, 2022.75) #>           Qtr1      Qtr2      Qtr3      Qtr4 #> 2023 0.8577540 0.7362662 0.6503629 0.2972050 #> 2024 0.8627210 0.6635003 1.3581153 0.5355779 level(forecasts$mean$exports) #> level, diff_log #>          Qtr1     Qtr2     Qtr3     Qtr4 #> 2022                            118297.6 #> 2023 119316.6 120198.4 120982.6 121342.7 #> 2024 122394.1 123208.9 124893.6 125564.3"},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Extended Time Series (ets)","text":"ets objects stats::ts series extra metadata. extra attributes (series_type, value_type, method) tell koma move levels rates keeping attributes common operations.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"create-an-ets","dir":"Articles","previous_headings":"","what":"Create an ets","title":"Extended Time Series (ets)","text":"","code":"x <- ets(   data = 1:10,   start = c(2019, 1),   frequency = 4,   series_type = \"level\",   value_type = \"real\",   method = \"diff_log\" ) x #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019    1    2    3    4 #> 2020    5    6    7    8 #> 2021    9   10  ts_obj <- stats::ts(1:10, start = c(2019, 1), frequency = 4) y <- as_ets(   ts_obj,   series_type = \"level\",   value_type = \"real\",   method = \"diff_log\" ) attr(y, \"ets_attributes\") #> [1] \"series_type\" \"value_type\"  \"method\""},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"windowing-and-extending","dir":"Articles","previous_headings":"","what":"Windowing and extending","title":"Extended Time Series (ets)","text":"stats::window preserves koma attributes, extend = TRUE allows leading trailing NA values future merges.","code":"stats::window(x, start = c(2019, 4)) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019                   4 #> 2020    5    6    7    8 #> 2021    9   10  stats::window(x, start = 2018, extend = TRUE) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2018   NA   NA   NA   NA #> 2019    1    2    3    4 #> 2020    5    6    7    8 #> 2021    9   10  stats::na.omit(stats::window(x, start = 2018, extend = TRUE)) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019    1    2    3    4 #> 2020    5    6    7    8 #> 2021    9   10"},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"rates-levels-and-anchors","dir":"Articles","previous_headings":"","what":"Rates, levels, and anchors","title":"Extended Time Series (ets)","text":"rate() converts level series growth rates. , stores anker attribute used level() rebuild level series later. lag() updates anchor automatically rate series.","code":"x_rate <- rate(x) x_rate #> rate, real, diff_log, c(1, 2019) #>          Qtr1     Qtr2     Qtr3     Qtr4 #> 2019          69.31472 40.54651 28.76821 #> 2020 22.31436 18.23216 15.41507 13.35314 #> 2021 11.77830 10.53605 attr(x_rate, \"anker\") #> [1]    1 2019  rate_window <- stats::window(x_rate, start = c(2019, 4)) level(rate_window) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019              3    4 #> 2020    5    6    7    8 #> 2021    9   10 x_rate_lag <- lag(x_rate, k = -1) x_rate_lag #> rate, real, diff_log, c(1, 2019.25) #>          Qtr1     Qtr2     Qtr3     Qtr4 #> 2019                   69.31472 40.54651 #> 2020 28.76821 22.31436 18.23216 15.41507 #> 2021 13.35314 11.77830 10.53605 attr(x_rate_lag, \"anker\") #> [1]    1.00 2019.25"},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"rebasing-and-aggregation","dir":"Articles","previous_headings":"","what":"Rebasing and aggregation","title":"Extended Time Series (ets)","text":"Rebase series base period rebase(). tempdisagg installed, can aggregate ta().","code":"rebase(x, start = c(2020, 1), end = c(2020, 1)) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019   20   40   60   80 #> 2020  100  120  140  160 #> 2021  180  200 rebase(x, start = c(2020, 1), end = c(2020, 4)) #> level, real, diff_log #>           Qtr1      Qtr2      Qtr3      Qtr4 #> 2019  15.38462  30.76923  46.15385  61.53846 #> 2020  76.92308  92.30769 107.69231 123.07692 #> 2021 138.46154 153.84615 if (requireNamespace(\"tempdisagg\", quietly = TRUE)) {   tempdisagg::ta(x, conversion = \"sum\", to = \"annual\") } #> level, real, diff_log #> Time Series: #> Start = 2019  #> End = 2020  #> Frequency = 1  #> [1] 10 26"},{"path":"https://timothymerlin.github.io/koma/articles/koma-extended-timeseries.html","id":"arithmetic-and-subsetting","dir":"Articles","previous_headings":"","what":"Arithmetic and subsetting","title":"Extended Time Series (ets)","text":"Common transformations preserve attributes, can keep working koma without losing metadata.","code":"log(x) #> level, real, diff_log #>           Qtr1      Qtr2      Qtr3      Qtr4 #> 2019 0.0000000 0.6931472 1.0986123 1.3862944 #> 2020 1.6094379 1.7917595 1.9459101 2.0794415 #> 2021 2.1972246 2.3025851 diff(x) #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019         1    1    1 #> 2020    1    1    1    1 #> 2021    1    1 x * 10 #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019   10   20   30   40 #> 2020   50   60   70   80 #> 2021   90  100 x[1:2] #> [1] 1 2 x / x #> level, real, diff_log #>      Qtr1 Qtr2 Qtr3 Qtr4 #> 2019    1    1    1    1 #> 2020    1    1    1    1 #> 2021    1    1"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Estimating and Forecasting with the koma Package","text":"vignette walks minimal end--end workflow: define small system, prepare data, estimate, forecast. full syntax details, see equation reference, time series handling see ets vignette.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"define-a-small-system","dir":"Articles","previous_headings":"","what":"Define a small system","title":"Estimating and Forecasting with the koma Package","text":"start four stochastic equations two identities mirror small open economy. interest rate, world GDP, exchange rate treated exogenous example.","code":"equations <- \"consumption ~ gdp + consumption.L(1) + interest_rate, investment ~ gdp + investment.L(1) + interest_rate, exports ~ world_gdp + exchange_rate + exports.L(1), imports ~ gdp + exchange_rate + imports.L(1), gdp == (consumption/gdp)*consumption + (investment/gdp)*investment + (exports/gdp)*exports - (imports/gdp)*imports\"  exogenous_variables <- c(\"interest_rate\", \"world_gdp\", \"exchange_rate\")"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"build-the-system","dir":"Articles","previous_headings":"","what":"Build the system","title":"Estimating and Forecasting with the koma Package","text":"","code":"sys_eq <- system_of_equations(     equations = equations,     exogenous_variables = exogenous_variables )  print(sys_eq) #>  #> ── System of Equations ───────────────────────────────────────────────────────── #> consumption ~  constant + gdp + consumption.L(1) + interest_rate #>  investment ~  constant + gdp + investment.L(1) + interest_rate #>     exports ~  constant + world_gdp + exchange_rate + exports.L(1) #>     imports ~  constant + gdp + exchange_rate + imports.L(1) #>         gdp == (consumption/gdp) * consumption + (investment/gdp) * investment + (exports/gdp) * exports-(imports/gdp) * imports"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"pick-estimation-and-forecast-ranges","dir":"Articles","previous_headings":"","what":"Pick estimation and forecast ranges","title":"Estimating and Forecasting with the koma Package","text":"use last year dataset short --sample forecast period. identity weights computed level shares estimation window.","code":"dates <- list(     estimation = list(start = c(1996, 1), end = c(2019, 4)),     forecast = list(start = c(2023, 1), end = c(2023, 4)),     dynamic_weights = list(start = c(1996, 1), end = c(2019, 4)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"prepare-the-data","dir":"Articles","previous_headings":"","what":"Prepare the data","title":"Estimating and Forecasting with the koma Package","text":"use small_open_economy dataset, list ts objects. ’ll keep variables appear system. pass ts objects directly, estimate() prompt default conversion settings optional exceptions. example, override defaults use level/diff_log keep interest_rate rate series: vignette convert explicitly keep example non-interactive:","code":"data(\"small_open_economy\") series <- unique(c(sys_eq$endogenous_variables, sys_eq$exogenous_variables)) ts_data <- small_open_economy[series] estimates <- estimate(ts_data, sys_eq, dates) #> Some of the time series in `ts_data` are not `ets`. #> They will be automatically converted with `as_ets` using the defaults: #> Default settings #> series_type = level #> method = percentage #> Are these correct? (y/n): n #> Enter series_type: level #> Enter method: diff_log #> Specify exception to default settings? (y/n): y #> Enter series name: interest_rate #> Enter series_type for interest_rate (default level): rate #> Enter method for interest_rate (default diff_log): none #> Specify exception to default settings? (y/n): n ts_data <- lapply(ts_data, function(x) {     as_ets(x, series_type = \"level\", method = \"diff_log\") }) ts_data$interest_rate <- as_ets(     ts_data$interest_rate,     series_type = \"rate\",     method = \"none\" )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"estimate-the-model","dir":"Articles","previous_headings":"","what":"Estimate the model","title":"Estimating and Forecasting with the koma Package","text":"","code":"estimates <- estimate(     ts_data,     sys_eq,     dates ) #>  #> ── Gibbs Sampler Settings ────────────────────────────────────────────────────── #> ── System Wide Settings ── #> • Number of draws (`ndraws`): 2000 #> • Burn-in ratio (`burnin_ratio`): 0.5 #> • Burn-in (`burnin`): 1000 #> • Store frequency (`nstore`): 1 #> • Number of saved draws (`nsave`): 1000 #> • Tau (`tau`): 1.1 #>  #>  #> ── Estimation ────────────────────────────────────────────────────────────────── #>  #> ── ⚠ MCMC Acceptance Probability Warnings ────────────────────────────────────── #> • consumption: 60.7% #>  #> ℹ Some acceptance probabilities are outside the recommended range (20%-60%). #> Consider revising the equations, tuning each equation's tau, or adjusting your priors.  print(estimates) #>  #> ── Estimates ─────────────────────────────────────────────────────────────────── #> consumption ~  0.35 - 0.02 * gdp  +  0.06 * consumption.L(1)  +  0.04 * interest_rate #>  investment ~  - 0.29  +  1.99 * gdp - 0.02 * investment.L(1) - 0.14 * interest_rate #>     exports ~  - 0.09  +  2.98 * world_gdp  +  0.28 * exchange_rate - 0.28 * exports.L(1) #>     imports ~  0.01  +  2.2 * gdp - 0.19 * exchange_rate - 0.14 * imports.L(1) #>         gdp == (consumption/gdp) * consumption  +  (investment/gdp) * investment  +  (exports/gdp) * exports - (imports/gdp) * imports summary(estimates) #>  #> ============================================================================== #>                   consumption    investment     exports         imports        #> ------------------------------------------------------------------------------ #> constant            0.35          -0.29          -0.09            0.01         #>                   [ 0.26; 0.43]  [-0.63; 0.04]  [-0.64;  0.47]  [-0.43;  0.45] #> consumption.L(1)    0.06                                                       #>                   [-0.11; 0.23]                                                #> interest_rate       0.04          -0.14                                        #>                   [ 0.00; 0.08]  [-0.35; 0.08]                                 #> gdp                -0.02           1.99                           2.20         #>                   [-0.10; 0.08]  [ 1.45; 2.53]                  [ 1.52;  2.92] #> investment.L(1)                   -0.02                                        #>                                  [-0.21; 0.15]                                 #> exports.L(1)                                     -0.28                         #>                                                 [-0.43; -0.12]                 #> world_gdp                                         2.98                         #>                                                 [ 2.13;  3.77]                 #> exchange_rate                                     0.28           -0.19         #>                                                 [ 0.12;  0.45]  [-0.32; -0.06] #> imports.L(1)                                                     -0.14         #>                                                                 [-0.31;  0.03] #> ============================================================================== #> Posterior mean (90% credible interval: [5.0%, 95.0%]) #> Estimation period: 1996 Q1 - 2019 Q4"},{"path":"https://timothymerlin.github.io/koma/articles/koma-getting-started.html","id":"forecast-and-inspect","dir":"Articles","previous_headings":"","what":"Forecast and inspect","title":"Estimating and Forecasting with the koma Package","text":"forecasting, truncate endogenous series end quarter forecast start date. can also summarize forecast horizons mean/median quantiles:","code":"estimates$ts_data[sys_eq$endogenous_variables] <-     lapply(sys_eq$endogenous_variables, function(x) {         stats::window(estimates$ts_data[[x]], end = c(2022, 4))     }) forecasts <- forecast(estimates, dates) #>  #> ── Forecast ──────────────────────────────────────────────────────────────────── print(forecasts) #>         consumption investment exports imports    gdp interest_rate world_gdp #> 2023 Q1      0.3989     0.8350  1.4131  1.3520 0.6384        1.1009    0.4827 #> 2023 Q2      0.4152    -0.1407  0.3795  0.4908 0.2083        1.5227    0.4083 #> 2023 Q3      0.4284    -0.0777  0.5249  0.7429 0.1960        1.7075    0.4259 #> 2023 Q4      0.4387    -0.0304  0.3685  0.5198 0.2329        1.7006    0.2906 #>         exchange_rate #> 2023 Q1        0.9217 #> 2023 Q2       -1.3863 #> 2023 Q3       -1.7869 #> 2023 Q4       -0.7502  rate(forecasts$mean$gdp) #> rate, diff_log, c(191668.860623222, 2022.75) #>           Qtr1      Qtr2      Qtr3      Qtr4 #> 2023 0.6384174 0.2083174 0.1959766 0.2328886 level(forecasts$mean$gdp) #> level, diff_log #>          Qtr1     Qtr2     Qtr3     Qtr4 #> 2022                            191668.9 #> 2023 192896.4 193298.7 193677.9 194129.4 summary(forecasts) #> ========================================= #> consumption  Mean   Median  5%      95%   #> ----------------------------------------- #> 2023 Q1      0.399   0.409  -0.034  0.789 #> 2023 Q2      0.415   0.414   0.003  0.843 #> 2023 Q3      0.428   0.434   0.037  0.843 #> 2023 Q4      0.439   0.437  -0.004  0.881 #> ========================================= #>  #> ========================================= #> investment  Mean    Median  5%      95%   #> ----------------------------------------- #> 2023 Q1      0.835   0.795   -3.62  5.269 #> 2023 Q2     -0.141  -0.129  -5.131  4.645 #> 2023 Q3     -0.078  -0.087  -5.036  4.598 #> 2023 Q4      -0.03   0.009  -5.005  4.899 #> ========================================= #>  #> ===================================== #> exports  Mean   Median  5%      95%   #> ------------------------------------- #> 2023 Q1  1.413   1.453  -2.239  5.073 #> 2023 Q2   0.38   0.327  -3.216  4.085 #> 2023 Q3  0.525   0.578  -3.728  4.495 #> 2023 Q4  0.369   0.363  -3.389  4.178 #> ===================================== #>  #> ===================================== #> imports  Mean   Median  5%      95%   #> ------------------------------------- #> 2023 Q1  1.352   1.392  -1.803  4.605 #> 2023 Q2  0.491   0.504  -2.952  3.907 #> 2023 Q3  0.743   0.806  -3.049  4.298 #> 2023 Q4   0.52   0.489  -2.811  4.053 #> ===================================== #>  #> ===================================== #> gdp      Mean   Median  5%      95%   #> ------------------------------------- #> 2023 Q1  0.638   0.622   -0.95   2.33 #> 2023 Q2  0.208   0.189  -1.575  2.043 #> 2023 Q3  0.196   0.198  -1.526  1.992 #> 2023 Q4  0.233   0.262  -1.601  2.145 #> ===================================== #>  #> ========================================== #> interest_rate  Mean   Median  5%     95%   #> ------------------------------------------ #> 2023 Q1        1.101   1.101  1.101  1.101 #> 2023 Q2        1.523   1.523  1.523  1.523 #> 2023 Q3        1.708   1.708  1.708  1.708 #> 2023 Q4        1.701   1.701  1.701  1.701 #> ========================================== #>  #> ====================================== #> world_gdp  Mean   Median  5%     95%   #> -------------------------------------- #> 2023 Q1    0.483   0.483  0.483  0.483 #> 2023 Q2    0.408   0.408  0.408  0.408 #> 2023 Q3    0.426   0.426  0.426  0.426 #> 2023 Q4    0.291   0.291  0.291  0.291 #> ====================================== #>  #> ============================================= #> exchange_rate  Mean    Median  5%      95%    #> --------------------------------------------- #> 2023 Q1         0.922   0.922   0.922   0.922 #> 2023 Q2        -1.386  -1.386  -1.386  -1.386 #> 2023 Q3        -1.787  -1.787  -1.787  -1.787 #> 2023 Q4         -0.75   -0.75   -0.75   -0.75 #> ============================================= #>  #> Mean, Median, Quantiles summary(forecasts, variables = \"gdp\", horizon = 2) #> ===================================== #> gdp      Mean   Median  5%      95%   #> ------------------------------------- #> 2023 Q1  0.638   0.622   -0.95   2.33 #> 2023 Q2  0.208   0.189  -1.575  2.043 #> ===================================== #>  #> Mean, Median, Quantiles if (requireNamespace(\"plotly\", quietly = TRUE)) {     plot(forecasts, variables = c(\"gdp\", \"consumption\")) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-hpd.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Highest Probability Density (HPD): HDR and HDI","text":"vignette introduces highest probability density (HPD) summaries koma. Two related summaries provided: hdr() computes highest density regions (HDRs) using kernel density estimate, following Hyndman (1996). multimodal draws, HDRs can multiple disjoint intervals. (Hyndman 1996) hdi() computes highest density intervals (HDIs), defined shortest interval containing target probability mass. HDIs always single interval. Use HDRs want multimodal structure preserved. Use HDIs want single concise interval. full function details, see ?hdr ?hdi.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-hpd.html","id":"draws-based-hpd-summaries","dir":"Articles","previous_headings":"","what":"Draws-based HPD summaries","title":"Highest Probability Density (HPD): HDR and HDI","text":"start synthetic bimodal sample highlight difference.  example, 99% HDR typically return two intervals, one around mode, 99% HDI returns single interval spans modes.","code":"set.seed(123)  draws <- c(     rnorm(2000, mean = -2, sd = 0.3),     rnorm(2000, mean = 2, sd = 0.3) ) plot(stats::density(draws)) hdr_res <- hdr(     draws,     probs = c(0.5, 0.99),     integration = \"grid\" )  hdi_res <- hdi(     draws,     probs = c(0.5, 0.99) )  hdr_res$intervals$level_99 #>           lower      upper #> [1,] -3.1657900 -0.8137866 #> [2,]  0.8240061  3.1642691 hdi_res$intervals$level_99 #>          lower    upper #> [1,] -2.675314 2.646959"},{"path":"https://timothymerlin.github.io/koma/articles/koma-hpd.html","id":"tuning-hdr-estimation","dir":"Articles","previous_headings":"","what":"Tuning HDR estimation","title":"Highest Probability Density (HPD): HDR and HDI","text":"HDRs based kernel density estimate, can adjust bandwidth, kernel choice, integration strategy:","code":"hdr_tuned <- hdr(     draws,     probs = 0.9,     bw = \"nrd0\",     adjust = 1.2,     kernel = \"gaussian\",     integration = \"monte_carlo\",     mc_use_observed = TRUE,     mc_quantile_type = 7 )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-hpd.html","id":"hdr-and-hdi-from-model-estimates","dir":"Articles","previous_headings":"","what":"HDR and HDI from model estimates","title":"Highest Probability Density (HPD): HDR and HDI","text":"koma_estimate, can compute HPD summaries coefficient variance draws. helpers return nested lists indexed variable, parameter block, coefficient name, probability level. can also visualize HDR results directly: complete estimation forecasting examples, see getting started vignette.","code":"# Define a small system  equations <- \"y ~ x + y.L(1)\" exogenous_variables <- \"x\"  sys_eq <- system_of_equations(     equations = equations,     exogenous_variables = exogenous_variables )  # Simulate data (small sample for speed)  gamma_matrix <- matrix(1, nrow = 1) beta_matrix <- matrix(c(0.2, 0.5, 0.3), nrow = 3) sigma_matrix <- matrix(0.01, nrow = 1)  sample <- generate_sample_data(     sample_size = 80,     sample_start = c(2000, 1),     burnin = 20,     gamma_matrix = gamma_matrix,     beta_matrix = beta_matrix,     sigma_matrix = sigma_matrix,     endogenous_variables = \"y\",     exogenous_variables = \"x\",     predetermined_variables = \"y.L(1)\" )  ts_data <- lapply(sample$ts_data, function(x) {     as_ets(x, series_type = \"rate\", method = \"diff_log\") })  # Estimate with fewer draws for a quick example  dates <- list(     estimation = list(start = c(2000, 3), end = c(2019, 4)) )  estimates <- estimate(     ts_data,     sys_eq,     dates,     options = list(gibbs = list(ndraws = 400, burnin_ratio = 0.5, nstore = 1)) )  # HDRs from coefficient draws  hdr_est <- hdr(estimates, probs = c(0.5, 0.99)) summary(hdr_est)  # HDIs from coefficient draws  hdi_est <- hdi(estimates, probs = c(0.5, 0.99)) summary(hdi_est)  # Example: inspect the 99% beta interval for x in equation y hdi_est$intervals$y$beta$x$level_99 plot(hdr_est)"},{"path":[]},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"stochastic-equations","dir":"Articles","previous_headings":"Equations of Klein’s Model","what":"Stochastic equations","title":"Estimating Klein's Model I","text":"consumptionCt=β0+α1Pt+α2Pt−1+α3(Wtp+Wtg)+ε1t,investmentIt=β0+β1Pt+β2Pt−1+β3Kt−1+ε2t,private wagesWtp=γ0+γ1Yt+γ2Yt−1+γ3At+ε3t. \\begin{aligned} \\text{consumption}\\quad   C_t     &= \\beta_0 + \\alpha_1 P_t + \\alpha_2 P_{t-1}                                    + \\alpha_3\\bigl(W^p_t + W^g_t\\bigr)                                    + \\varepsilon_{1t},\\\\ \\text{investment}\\quad    I_t     &= \\beta_0  + \\beta_1 P_t + \\beta_2 P_{t-1}                                    + \\beta_3 K_{t-1}                                    + \\varepsilon_{2t},\\\\ \\text{private wages}\\quad W^p_t   &= \\gamma_0 + \\gamma_1 Y_t + \\gamma_2 Y_{t-1}                                    + \\gamma_3 A_t                                    + \\varepsilon_{3t}. \\end{aligned} α\\alpha’s, β\\beta’s, γ\\gamma’s coefficients model. PtP_t private profits, WtpW^p_t private wages, WtgW^g_t government wages, Kt−1K_{t-1} capital stock time t−1t-1, AtA_t time trend. εit\\varepsilon_{} stochastic error terms.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"equilibrium-condition","dir":"Articles","previous_headings":"Equations of Klein’s Model","what":"Equilibrium condition","title":"Estimating Klein's Model I","text":"equilibrium demandYt=Ct++Gt \\begin{aligned} \\text{equilibrium demand}\\quad Y_t &= C_t + I_t + G_t \\end{aligned} YtY_t equilibrium demand, CtC_t consumption, ItI_t investment, GtG_t government spending.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"identities","dir":"Articles","previous_headings":"Equations of Klein’s Model","what":"Identities","title":"Estimating Klein's Model I","text":"equilibrium demandYt=Ct++Gtprivate profitsPt=Yt−Tt−Wtpcapital stockKt=Kt−1+\\begin{aligned} \\text{equilibrium demand}\\quad Y_t &= C_t + I_t + G_t\\\\ \\text{private profits}\\quad P_t &= Y_t - T_t - W^p_t\\\\ \\text{capital stock}\\quad K_t &= K_{t-1} + I_t \\end{aligned} , TtT_t represents taxes, KtK_t denotes capital stock time tt, GtG_t signifies government spending.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"defining-kleins-model-in-r","dir":"Articles","previous_headings":"","what":"Defining Klein’s Model in R","title":"Estimating Klein's Model I","text":"estimate forecast model, need specify equations, exogenous variables, date ranges estimation forecasting. equations string contains model equations, exogenous_variables lists exogenous variables. .L(1) notation indicates lag one period. details syntax, please refer equation syntax documentation.","code":"equations <- \"consumption ~ profits + profits.L(1) + total_wages, investment ~ profits + profits.L(1) + capital_stock.L(1), wages ~ gdp + gdp.L(1) + time_trend, gdp == (n_consumption/n_gdp)*consumption + (n_investment/n_gdp)*investment + (n_government/n_gdp)*government, profits == (n_gdp/n_profits)*gdp - (n_taxes/n_profits)*taxes - (n_wages/n_profits)*wages, capital_stock == 1.001*capital_stock.L(1) + 0.0002*investment, total_wages == (n_wages/n_total_wages)*wages + (n_government_wages/n_total_wages)*government_wages\"  exogenous_variables <- c(\"government\", \"government_wages\", \"taxes\", \"time_trend\")"},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"creating-the-sem","dir":"Articles","previous_headings":"","what":"Creating the SEM","title":"Estimating Klein's Model I","text":"system_of_equations function used create system equations object, can used estimation forecasting.","code":"library(koma)  sys_eq <- system_of_equations(   equations = equations,   exogenous_variables = exogenous_variables )  print(sys_eq) ##  ## ── System of Equations ───────────────────────────────────────────────────────── ##   consumption ~  constant + profits + profits.L(1) + total_wages ##    investment ~  constant + profits + profits.L(1) + capital_stock.L(1) ##         wages ~  constant + gdp + gdp.L(1) + time_trend ##           gdp == (n_consumption/n_gdp) * consumption + (n_investment/n_gdp) * investment + (n_government/n_gdp) * government ##       profits == (n_gdp/n_profits) * gdp-(n_taxes/n_profits) * taxes-(n_wages/n_profits) * wages ## capital_stock == 1.001 * capital_stock.L(1) + 0.0002 * investment ##   total_wages == (n_wages/n_total_wages) * wages + (n_government_wages/n_total_wages) * government_wages"},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"defing-the-estimation-and-forecast-dates","dir":"Articles","previous_headings":"","what":"Defing the Estimation and Forecast Dates","title":"Estimating Klein's Model I","text":"Now, need specify dates estimation forecasting.","code":"dates <- list(   estimation = list(start = c(1990, 1), end = c(2020, 4)),   forecast = list(start = c(2021, 1), end = c(2023, 4)),   dynamic_weights = list(start = c(1990, 1), end = c(2020, 4)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"preparing-the-data","dir":"Articles","previous_headings":"","what":"Preparing the Data","title":"Estimating Klein's Model I","text":"use klein dataset, contains required variables model. dataset list standard time series (ts) objects, object corresponds variable model. can explore dataset using ?klein command view documentation structure. prepare dataset use koma package, need convert ts objects ets format using as_ets function. model estimated growth rates. klein dataset levels. use ets tell model data levels convert growth rates. ets generalized accept additional attributes. use feature save series’ value_type (real nominal). data prepared, can now proceed estimate model. forecasting, however, need truncate endogenous variables ensure include data forecast start date.","code":"?klein # Some series in the klein dataset are nominal. We need to deflate them using the GDP deflator. klein$profits <- klein$n_profits / (klein$d_gdp / 100) klein$capital_stock <- klein$n_capital_stock / (klein$d_gdp / 100) klein$wages <- klein$n_wages / (klein$d_gdp / 100) klein$government_wages <- klein$n_government_wages / (klein$d_gdp / 100) klein$taxes <- klein$n_taxes / (klein$d_gdp / 100)  real_series <- c(   \"gdp\", \"consumption\", \"investment\", \"profits\", \"capital_stock\",   \"government\", \"wages\", \"government_wages\", \"taxes\" ) real_ts_data <- lapply(real_series, function(x) {   as_ets(klein[[x]],     series_type = \"level\", method = \"diff_log\", value_type = \"real\"   ) }) names(real_ts_data) <- real_series  real_ts_data$total_wages <- real_ts_data$government_wages + real_ts_data$wages  # net exports can be negative, we thus want to use percentage change instead of log difference real_ts_data$net_exports <- as_ets(klein$net_exports,   series_type = \"level\", method = \"percentage\", value_type = \"real\" )  # To compute the weights in the model, we include the nominal series in the dataset as well. nominal_series <- c(   \"n_gdp\", \"n_investment\", \"n_government\", \"n_government_wages\",   \"n_taxes\", \"n_profits\", \"n_wages\", \"n_consumption\" ) nominal_ts_data <- lapply(nominal_series, function(x) {   as_ets(klein[[x]],     series_type = \"level\", method = \"diff_log\", value_type = \"nominal\"   ) }) names(nominal_ts_data) <- nominal_series  nominal_ts_data$n_total_wages <- nominal_ts_data$n_government_wages + nominal_ts_data$n_wages  # Combining the real and nominal series ts_data <- c(real_ts_data, nominal_ts_data)  # Adding the time trend ts_data$time_trend <- ets(seq_len(length(klein$taxes)),   start = stats::start(ts_data$taxes), frequency = 4,   series_type = \"level\", method = \"none\", value_type = NA ) ts_data[sys_eq$endogenous_variables] <-   lapply(sys_eq$endogenous_variables, function(x) {     stats::window(ts_data[[x]], end = c(2020, 4))   })"},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"estimating-the-model","dir":"Articles","previous_headings":"","what":"Estimating the Model","title":"Estimating Klein's Model I","text":"names list elements match variable names used equations. Now, can estimate model using estimate function. see run estimation parallel, refer parallel estimation vignette.","code":"estimates <- estimate(   sys_eq,   ts_data = ts_data,   dates = dates ) ##  ## ── Gibbs Sampler Settings ────────────────────────────────────────────────────── ## ── System Wide Settings ── ## • Number of draws (`ndraws`): 2000 ## • Burn-in ratio (`burnin_ratio`): 0.5 ## • Burn-in (`burnin`): 1000 ## • Store frequency (`nstore`): 1 ## • Number of saved draws (`nsave`): 1000 ## • Tau (`tau`): 1.1 ##  ##  ## ── Estimation ────────────────────────────────────────────────────────────────── print(estimates) ##  ## ── Estimates ─────────────────────────────────────────────────────────────────── ##   consumption ~  - 0.12  +  0.13 * profits - 0.03 * profits.L(1)  +  1.11 * total_wages ##    investment ~  - 0.86  +  0.39 * profits  +  0.16 * profits.L(1)  +  1.51 * capital_stock.L(1) ##         wages ~  - 0.68  +  0.95 * gdp  +  0.43 * gdp.L(1)  +  0 * time_trend ##           gdp == (n_consumption/n_gdp) * consumption  +  (n_investment/n_gdp) * investment  +  (n_government/n_gdp) * government ##       profits == (n_gdp/n_profits) * gdp - (n_taxes/n_profits) * taxes - (n_wages/n_profits) * wages ## capital_stock == 1.001 * capital_stock.L(1)  +  0.0002 * investment ##   total_wages == (n_wages/n_total_wages) * wages  +  (n_government_wages/n_total_wages) * government_wages summary(estimates) ##  ## ================================================================= ##                     consumption     investment     wages          ## ----------------------------------------------------------------- ## constant             -0.12           -0.86          -0.68         ##                     [-0.31;  0.08]  [-1.84; 0.02]  [-1.34; -0.06] ## profits.L(1)         -0.03            0.16                        ##                     [-0.05; -0.00]  [ 0.07; 0.24]                 ## profits               0.13            0.39                        ##                     [ 0.10;  0.16]  [ 0.21; 0.57]                 ## total_wages           1.11                                        ##                     [ 0.97;  1.25]                                ## capital_stock.L(1)                    1.51                        ##                                     [ 0.41; 2.54]                 ## gdp.L(1)                                             0.43         ##                                                    [ 0.30;  0.56] ## time_trend                                           0.00         ##                                                    [-0.00;  0.01] ## gdp                                                  0.95         ##                                                    [ 0.80;  1.10] ## ================================================================= ## Posterior mean (90% credible interval: [5.0%, 95.0%]) ## Estimation period: 1990 Q1 - 2020 Q4"},{"path":"https://timothymerlin.github.io/koma/articles/koma-klein.html","id":"forecasting","dir":"Articles","previous_headings":"","what":"Forecasting","title":"Estimating Klein's Model I","text":"forecast model, can use forecast function. function generate forecasts specified date range.","code":"forecasts <- forecast(   estimates,   dates = dates ) ##  ## ── Forecast ──────────────────────────────────────────────────────────────────── print(forecasts) ##         consumption investment   wages     gdp profits capital_stock ## 2021 Q1     -1.5696    -0.9364 -0.4585 -0.9971 -8.6728        2.5034 ## 2021 Q2     -0.3184     2.0125 -0.4641 -0.0393  0.5787        2.5063 ## 2021 Q3     -1.4778     1.1015 -0.8382 -0.8595 -5.7589        2.5091 ## 2021 Q4     -0.9760     1.8101 -0.7312 -0.3394 -1.1363        2.5119 ## 2022 Q1     -0.8366     2.3480 -0.4170 -0.2863 -1.6901        2.5149 ## 2022 Q2     -0.9388     2.0577 -0.4517 -0.3232 -1.5241        2.5178 ## 2022 Q3     -1.8300     0.3312 -1.1432 -1.0985 -6.6025        2.5204 ## 2022 Q4     -2.1483    -0.0936 -1.6466 -1.2243 -5.9269        2.5229 ## 2023 Q1     -2.3428    -0.3106 -1.8222 -1.4085 -7.1482        2.5254 ## 2023 Q2     -1.7959     0.0577 -1.5161 -1.0662 -5.0824        2.5279 ## 2023 Q3     -2.4004    -0.4895 -1.8163 -1.4545 -7.9550        2.5303 ## 2023 Q4     -1.9098    -0.3149 -1.6764 -1.1801 -5.6997        2.5328 ##         total_wages government government_wages   taxes time_trend ## 2021 Q1     -0.4802     1.2758          -0.5982  0.8997        205 ## 2021 Q2     -0.4267    -1.0791          -0.2234  9.1809        206 ## 2021 Q3     -0.5756    -0.3873           0.8500  0.3182        207 ## 2021 Q4     -0.7725    -0.0708          -0.9966  4.6251        208 ## 2022 Q1     -0.4884    -0.8533          -0.8763  3.5975        209 ## 2022 Q2     -0.5961    -0.3752          -1.3801 -1.3602        210 ## 2022 Q3     -0.8943     0.3883           0.4571 -5.3551        211 ## 2022 Q4     -1.2981     1.3228           0.5938 -6.2183        212 ## 2023 Q1     -1.4128     1.2402           0.8097 -6.4787        213 ## 2023 Q2     -1.1329     0.7229           0.9474 -2.6579        214 ## 2023 Q3     -1.3031     1.3819           1.4833 -2.8205        215 ## 2023 Q4     -1.2141     0.8931           1.2959 -2.1251        216 plot(forecasts, variables = \"gdp\")"},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Executing `koma` in Parallel","text":"vignette demonstrates use future::plan function run koma package functions either sequentially parallel, depending operating system preferences. details, see future package documentation: https://cran.r-project.org/web/packages/future/future.pdf","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"preliminaries","dir":"Articles","previous_headings":"","what":"Preliminaries","title":"Executing `koma` in Parallel","text":"Install future parallelly packages: use simulated data contained koma illustrate use future::plan. setup following:","code":"install.packages(\"future\") install.packages(\"parallelly\") library(koma)  equations <- \"consumption ~ gdp + consumption.L(1), investment ~ investment.L(1), exports ~ world_gdp + exports.L(1), imports ~ domestic_demand + imports.L(1), prices ~ exchange_rate + oil_price + prices.L(1), interest_rate ~ prices + interest_rate_germany + prices.L(1), gdp == 0.6*consumption + 0.6*domestic_demand + 0.5*exports - 0.4*imports, domestic_demand == 0.6*consumption + 0.4*investment\"  exogenous_variables <- c(\"world_gdp\", \"interest_rate_germany\", \"exchange_rate\", \"oil_price\")  dates <- list(     estimation = list(start = c(1996, 1), end = c(2019, 4)),     forecast = list(start = c(2023, 1), end = c(2023, 4)) )  sys_eq <- system_of_equations(equations, exogenous_variables)  series <- names(small_open_economy) series <- series[!series %in% c(\"interest_rate\", \"interest_rate_germany\")]  ts_data <- lapply(series, function(x) {     as_ets(small_open_economy[[x]],         series_type = \"level\", method = \"diff_log\"     ) }) names(ts_data) <- series  ts_data$interest_rate <- as_ets(small_open_economy$interest_rate,     series_type = \"rate\", method = \"none\" ) ts_data$interest_rate_germany <- as_ets(small_open_economy$interest_rate_germany,     series_type = \"rate\", method = \"none\" )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"sequential-execution","dir":"Articles","previous_headings":"","what":"Sequential Execution","title":"Executing `koma` in Parallel","text":"default, R executes code sequentially. example:","code":"estimates <- estimate(ts_data, sys_eq, dates)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"parallel-execution-with-futureplan","dir":"Articles","previous_headings":"","what":"Parallel Execution with future::plan","title":"Executing `koma` in Parallel","text":"enable parallel execution, can use future::plan. type parallel execution depends operating system whether running code cluster.","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"worker-setup","dir":"Articles","previous_headings":"Parallel Execution with future::plan","what":"Worker Setup","title":"Executing `koma` in Parallel","text":"need define number workers parallel job run . use cores except one.","code":"# Get the available workers workers <- parallelly::availableCores(omit = 1)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"windows","dir":"Articles","previous_headings":"Parallel Execution with future::plan","what":"Windows","title":"Executing `koma` in Parallel","text":"Windows, can use multisession:","code":"future::plan(\"future::multisession\", workers = workers)  estimates <- estimate(ts_data, sys_eq, dates)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-parallel.html","id":"unix-like-systems","dir":"Articles","previous_headings":"Parallel Execution with future::plan","what":"Unix-like systems","title":"Executing `koma` in Parallel","text":"Unix-like systems, can use multicore:","code":"future::plan(\"future::multicore\", workers = workers)  estimates <- estimate(ts_data, sys_eq, dates)"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"equations-of-the-small-macro-model","dir":"Articles","previous_headings":"","what":"Equations of the Small Macro Model","title":"Estimating Small Macro Model for Switzerland","text":"Stochastic equations ConsumptionCt=β1+β1,2Ct−1+γ1,7Yt+ε1t,InvestmentIt=β2+β2,3It−1+ε2t,ExportsXt=β3+β3,4Xt−1+β3,7WGDPt+ε3t,ImportsMt=β4+γ4,8Dt+β4,5It−1+ε4t,PricesPt=β5+β5,9ERt+β5,10OPt+β5,6Pt−1+ε5t,Interest RateRt=β6+β6,6Pt−1+β6,8RGE,t+γ6,5Pt+ε6t. \\begin{aligned} \\text{Consumption}\\quad C_t &= \\beta_1 + \\beta_{1,2} C_{t-1} + \\gamma_{1,7} Y_t + \\varepsilon_{1t},\\\\ \\text{Investment}\\quad I_t &= \\beta_2 + \\beta_{2,3} I_{t-1} + \\varepsilon_{2t},\\\\ \\text{Exports}\\quad X_t &= \\beta_3 + \\beta_{3,4} X_{t-1} + \\beta_{3,7} WGDP_t + \\varepsilon_{3t},\\\\ \\text{Imports}\\quad M_t &= \\beta_4 + \\gamma_{4,8} D_t + \\beta_{4,5} I_{t-1} + \\varepsilon_{4t},\\\\ \\text{Prices}\\quad P_t &= \\beta_5 + \\beta_{5,9} ER_t + \\beta_{5,10} OP_t       + \\beta_{5,6} P_{t-1} + \\varepsilon_{5t},\\\\ \\text{Interest Rate}\\quad R_t &= \\beta_6 + \\beta_{6,6} P_{t-1} + \\beta_{6,8} R_{GE,t}       + \\gamma_{6,5} P_t + \\varepsilon_{6t}. \\end{aligned} Equilibrium condition Equilibrium OuputGDPt=0.6*Ct+0.6*Dt+0.5*Xt−0.4*\\begin{aligned} \\text{Equilibrium Ouput}\\quad GDP_t &= 0.6*C_t + 0.6*D_t + 0.5*X_t - 0.4*I_t \\end{aligned} Identities Domestic DemandDt=0.6*Ct+0.4*\\begin{aligned} \\text{Domestic Demand}\\quad D_t &= 0.6*C_t + 0.4*I_t \\end{aligned} Coefficients - β\\beta’s γ\\gamma’s structural coefficients estimated. Endogenous variables {GDP_t}{Equilibrium output (demand), defined .} Exogenous variables {}{German interest rate time }. variables {epsilon_it}{Stochastic error term equation time .}","code":""},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"defining-the-sem-in-r","dir":"Articles","previous_headings":"","what":"Defining the SEM in R","title":"Estimating Small Macro Model for Switzerland","text":"estimate forecast model, need specify equations, exogenous variables, date ranges estimation forecasting. equations string contains model equations, exogenous_variables lists exogenous variables. .L(1) notation indicates lag one period. details syntax, please refer equation syntax documentation.","code":"equations <- \"consumption ~ gdp + consumption.L(1), investment ~ investment.L(1), exports ~ world_gdp + exports.L(1), imports ~ domestic_demand + imports.L(1), prices ~ exchange_rate + oil_price + prices.L(1), interest_rate ~ prices + interest_rate_germany + prices.L(1), gdp == 0.6*consumption + 0.6*domestic_demand + 0.5*exports - 0.4*imports, domestic_demand == 0.6*consumption + 0.4*investment\"  exogenous_variables <- c(\"world_gdp\", \"interest_rate_germany\", \"exchange_rate\", \"oil_price\")"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"creating-the-sem","dir":"Articles","previous_headings":"","what":"Creating the SEM","title":"Estimating Small Macro Model for Switzerland","text":"system_of_equations function used create system equations object, can used estimation forecasting.","code":"library(koma)  sys_eq <- system_of_equations(   equations = equations,   exogenous_variables = exogenous_variables )  print(sys_eq) ##  ## ── System of Equations ───────────────────────────────────────────────────────── ##     consumption ~  constant + gdp + consumption.L(1) ##      investment ~  constant + investment.L(1) ##         exports ~  constant + world_gdp + exports.L(1) ##         imports ~  constant + domestic_demand + imports.L(1) ##          prices ~  constant + exchange_rate + oil_price + prices.L(1) ##   interest_rate ~  constant + prices + interest_rate_germany + prices.L(1) ##             gdp == 0.6 * consumption + 0.6 * domestic_demand + 0.5 * exports-0.4 * imports ## domestic_demand == 0.6 * consumption + 0.4 * investment"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"defing-the-estimation-and-forecast-dates","dir":"Articles","previous_headings":"","what":"Defing the Estimation and Forecast Dates","title":"Estimating Small Macro Model for Switzerland","text":"Now, need specify dates estimation forecasting.","code":"dates <- list(   estimation = list(start = c(1996, 1), end = c(2019, 4)),   forecast = list(start = c(2023, 1), end = c(2023, 4)) )"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"preparing-the-data","dir":"Articles","previous_headings":"","what":"Preparing the Data","title":"Estimating Small Macro Model for Switzerland","text":"use small_open_economy dataset, contains required variables model. dataset list standard time series (ts) objects, object corresponds variable model. can explore dataset using ?small_open_economy command view documentation structure. prepare dataset use koma package, need convert ts objects ets format using as_ets function. model estimated growth rates. small_open_economy dataset levels. use ets tell model data levels convert growth rates. ets generalized accept additional attributes. use feature save series’ value_type (real nominal). data prepared, can now proceed estimate model. forecasting, however, need truncate endogenous variables ensure include data forecast start date.","code":"?small_open_economy series <- names(small_open_economy) series <- series[!series %in% c(\"interest_rate\", \"interest_rate_germany\")]  ts_data <- lapply(series, function(x) {   as_ets(small_open_economy[[x]],     series_type = \"level\", method = \"diff_log\"   ) }) names(ts_data) <- series  ts_data$interest_rate <- as_ets(small_open_economy$interest_rate,   series_type = \"rate\", method = \"none\" ) ts_data$interest_rate_germany <- as_ets(small_open_economy$interest_rate_germany,   series_type = \"rate\", method = \"none\" ) ts_data[sys_eq$endogenous_variables] <-   lapply(sys_eq$endogenous_variables, function(x) {     stats::window(ts_data[[x]], end = c(2019, 4))   })"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"estimating-the-model","dir":"Articles","previous_headings":"","what":"Estimating the Model","title":"Estimating Small Macro Model for Switzerland","text":"names list elements match variable names used equations. Now, can estimate model using estimate function. see run estimation parallel, refer parallel estimation vignette.","code":"estimates <- estimate(   sys_eq,   ts_data = ts_data,   dates = dates ) ##  ## ── Gibbs Sampler Settings ────────────────────────────────────────────────────── ## ── System Wide Settings ── ## • Number of draws (`ndraws`): 2000 ## • Burn-in ratio (`burnin_ratio`): 0.5 ## • Burn-in (`burnin`): 1000 ## • Store frequency (`nstore`): 1 ## • Number of saved draws (`nsave`): 1000 ## • Tau (`tau`): 1.1 ##  ##  ## ── Estimation ────────────────────────────────────────────────────────────────── ##  ## ── ⚠ MCMC Acceptance Probability Warnings ────────────────────────────────────── ## • consumption: 60.7% ##  ## ℹ Some acceptance probabilities are outside the recommended range (20%-60%). ## Consider revising the equations, tuning each equation's tau, or adjusting your priors. print(estimates) ##  ## ── Estimates ─────────────────────────────────────────────────────────────────── ##     consumption ~  0.36 - 0.03 * gdp  +  0.11 * consumption.L(1) ##      investment ~  0.45  +  0.21 * investment.L(1) ##         exports ~  - 0.29  +  3.2 * world_gdp - 0.3 * exports.L(1) ##         imports ~  - 0.05  +  2.61 * domestic_demand - 0.11 * imports.L(1) ##          prices ~  0.04  +  0.03 * exchange_rate  +  0.01 * oil_price  +  0.56 * prices.L(1) ##   interest_rate ~  - 0.51  +  0.47 * prices  +  0.57 * interest_rate_germany - 0.19 * prices.L(1) ##             gdp == 0.6 * consumption  +  0.6 * domestic_demand  +  0.5 * exports - 0.4 * imports ## domestic_demand == 0.6 * consumption  +  0.4 * investment summary(estimates) ##  ## =============================================================================================================== ##                        consumption    investment    exports         imports        prices        interest_rate  ## --------------------------------------------------------------------------------------------------------------- ## constant                 0.36          0.45          -0.29           -0.05          0.04          -0.51         ##                        [ 0.28; 0.46]  [0.19; 0.71]  [-0.86;  0.32]  [-0.55; 0.44]  [0.01; 0.06]  [-0.63; -0.40] ## consumption.L(1)         0.11                                                                                   ##                        [-0.08; 0.29]                                                                            ## gdp                     -0.03                                                                                   ##                        [-0.13; 0.06]                                                                            ## investment.L(1)                        0.21                                                                     ##                                       [0.03; 0.40]                                                              ## exports.L(1)                                         -0.30                                                      ##                                                     [-0.48; -0.13]                                              ## world_gdp                                             3.20                                                      ##                                                     [ 2.27;  4.05]                                              ## imports.L(1)                                                         -0.11                                      ##                                                                     [-0.28; 0.06]                               ## domestic_demand                                                       2.61                                      ##                                                                     [ 1.62; 3.74]                               ## prices.L(1)                                                                         0.56          -0.19         ##                                                                                    [0.46; 0.66]  [-0.60;  0.21] ## exchange_rate                                                                       0.03                        ##                                                                                    [0.02; 0.05]                 ## oil_price                                                                           0.01                        ##                                                                                    [0.01; 0.01]                 ## interest_rate_germany                                                                              0.57         ##                                                                                                  [ 0.52;  0.62] ## prices                                                                                             0.47         ##                                                                                                  [ 0.05;  0.96] ## =============================================================================================================== ## Posterior mean (90% credible interval: [5.0%, 95.0%]) ## Estimation period: 1996 Q1 - 2019 Q4 summary(estimates, variables = \"investment\") ##  ## ============================= ##                  investment   ## ----------------------------- ## constant          0.45        ##                  [0.19; 0.71] ## investment.L(1)   0.21        ##                  [0.03; 0.40] ## ============================= ## Posterior mean (90% credible interval: [5.0%, 95.0%]) ## Estimation period: 1996 Q1 - 2019 Q4"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"diagnostics","dir":"Articles","previous_headings":"","what":"Diagnostics","title":"Estimating Small Macro Model for Switzerland","text":"can visualize MCMC diagnostics coefficient draws using trace_plot(). can also inspect running means (cumulative averages) running_mean_plot(). can inspect autocorrelation diagnostics acf_plot().","code":"if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   trace_plot(estimates, variables = c(\"consumption\", \"investment\")) } if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   running_mean_plot(estimates, variables = c(\"consumption\", \"investment\")) } if (requireNamespace(\"ggplot2\", quietly = TRUE)) {   acf_plot(estimates, variables = c(\"consumption\", \"investment\")) }"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"forecasting","dir":"Articles","previous_headings":"","what":"Forecasting","title":"Estimating Small Macro Model for Switzerland","text":"forecast model, can use forecast function. function generate forecasts specified date range.","code":"forecasts <- forecast(   estimates,   dates = dates ) ##  ## ── Forecast ──────────────────────────────────────────────────────────────────── ##  ## Conditional fill detected after \"2019 Q4\". ## Missing observations for: \"consumption\", \"investment\", \"exports\", \"imports\", ## \"prices\", \"interest_rate\", \"gdp\", and \"domestic_demand\" ## Missing values will be conditionally filled up to \"2022 Q4\" before forecasting. ## ✔ Forecasting completed. print(forecasts) ##         consumption investment exports imports  prices interest_rate    gdp ## 2023 Q1      0.3940     0.4953  1.2033  1.0677 -0.0587        0.8385 0.6717 ## 2023 Q2      0.3821     0.4917  0.6258  0.9778 -0.0703        1.2689 0.4066 ## 2023 Q3      0.3836     0.5117  0.7445  0.9278  0.0100        1.5664 0.4922 ## 2023 Q4      0.3883     0.5711  0.3600  0.9941 -0.0114        1.6947 0.2922 ##         domestic_demand world_gdp interest_rate_germany exchange_rate oil_price ## 2023 Q1          0.4345    0.4827                2.3887        0.9217   -8.7520 ## 2023 Q2          0.4259    0.4083                3.1460       -1.3863   -3.3787 ## 2023 Q3          0.4348    0.4259                3.6393       -1.7869    9.9001 ## 2023 Q4          0.4614    0.2906                3.8850       -0.7502   -3.3373 rate(forecasts$mean$gdp) ## rate, diff_log, c(192510.114596192, 2022.75) ##           Qtr1      Qtr2      Qtr3      Qtr4 ## 2023 0.6716659 0.4066033 0.4921892 0.2921809 level(forecasts$mean$gdp) ## level, diff_log ##          Qtr1     Qtr2     Qtr3     Qtr4 ## 2022                            192510.1 ## 2023 193807.5 194597.1 195557.3 196129.5"},{"path":"https://timothymerlin.github.io/koma/articles/koma-small-macro-model.html","id":"conditional-forecasting","dir":"Articles","previous_headings":"Forecasting","what":"Conditional Forecasting","title":"Estimating Small Macro Model for Switzerland","text":"Conditional forecasting allows impose restrictions certain variables forecast period fix values. useful scenario analysis policy evaluation, forecasts reflect user-defined conditions.","code":"fig <- plot(forecasts, variables = \"prices\") fig  restrictions <- list(prices = list(value = 0.5, horizon = 1))  forecasts <- forecast(estimates,   dates = dates,   restrictions = restrictions ) plot(forecasts, fig = fig, variables = \"prices\") forecasts$mean$prices"},{"path":"https://timothymerlin.github.io/koma/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Samad Sarferaz. Author, copyright holder. Laurent Florin. Author. Merlin Scherer. Author, maintainer.","code":""},{"path":"https://timothymerlin.github.io/koma/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sarferaz S, Florin L, Scherer M (2026). koma: Large Scale Macroeconomic Model. R package version 0.2.1, https://timothymerlin.github.io/koma.","code":"@Manual{,   title = {koma: A Large Scale Macroeconomic Model},   author = {Samad Sarferaz and Laurent Florin and Merlin Scherer},   year = {2026},   note = {R package version 0.2.1},   url = {https://timothymerlin.github.io/koma}, }"},{"path":"https://timothymerlin.github.io/koma/index.html","id":"koma---large-macroeconomic-model","dir":"","previous_headings":"","what":"koma","title":"koma","text":"koma R package Bayesian estimation simultaneous equation models (SEMs) using Metropolis-within-Gibbs Markov Chain Monte Carlo (MCMC) methods. ⚠️ Beta Release: koma active development. user-facing API may still change first CRAN release. Core features working exported functions may change bugs possible. Please report issues GitHub.","code":""},{"path":"https://timothymerlin.github.io/koma/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"koma","text":"install latest release KOMA package GitHub: install latest development version KOMA package GitHub: package mature peer-reviewed, planned released CRAN.","code":"# Install from GitHub devtools::install_github(\"timothymerlin/koma@latest\")  # Or using renv renv::install(\"github::timothymerlin/koma@latest\", rebuild = TRUE)  # Or using remotes remotes::install_github(\"timothymerlin/koma@latest\") # Install from GitHub devtools::install_github(\"timothymerlin/koma\")  # Or using renv renv::install(\"github::timothymerlin/koma\", rebuild = TRUE)"},{"path":"https://timothymerlin.github.io/koma/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"koma","text":"Getting started → Getting started koma Equation syntax → Equation syntax reference Extended time series → Extended time series (ets) Parallelization → Executing koma parallel Example: Klein model → Estimating Klein’s Model Example: small macro model → Estimating small macro model Switzerland","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/index.html","id":"creating-a-new-version","dir":"","previous_headings":"Development","what":"Creating a new Version","title":"koma","text":"Increment package version using usethis: updates DESCRIPTION file.","code":"# Increment the version number (patch/minor/major) usethis::use_version()"},{"path":"https://timothymerlin.github.io/koma/index.html","id":"commit-changes-and-tag-the-release","dir":"","previous_headings":"Development > Creating a new Version","what":"Commit changes and tag the release","title":"koma","text":"updating version: x.x.x new semantic version (e.g. 0.1.0). Protected tags (like x.x.x) immutable ensure release integrity. latest uprotected tag can moved point newest release.","code":"# Stage all changes git add .  # Commit with a clear message git commit -m \"Incrementing version to x.x.x\"  # Tag the release (protected) git tag x.x.x  # Tag the latest release (unprotected, movable) git tag -f latest"},{"path":"https://timothymerlin.github.io/koma/index.html","id":"push-branch-and-tags","dir":"","previous_headings":"Development > Creating a new Version","what":"Push branch and tags","title":"koma","text":"","code":"# Push commits git push  # Push both tags git push origin --tags"},{"path":"https://timothymerlin.github.io/koma/reference/acf_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","title":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","text":"Visualize autocorrelation functions (ACF) coefficient draws koma_estimate object. default, beta, gamma, sigma draws shown available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/acf_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","text":"","code":"acf_plot(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/acf_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","text":"x koma_estimate object. ... Additional arguments controlling plot. See Details.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/acf_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","text":"ggplot object, plotly object interactive = TRUE plotly available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/acf_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Autocorrelation Function Plots for koma_estimate Objects — acf_plot","text":"Additional arguments supported ...: variables Optional character vector endogenous variables plot. params Optional character vector parameter groups plot (e.g., \"beta\", \"gamma\", \"sigma\"). Defaults available. thin Optional integer thinning interval stored draws. Default 1 (thinning). max_draws Optional integer cap number draws used per ACF. set, recent draws kept. max_lag Optional integer maximum lag ACF computation. NULL, defaults min(30, n_draws - 1) per series. conf_level Optional numeric confidence level (0, 1) used ACF significance bands. Default 0.95. scales Facet scale option passed ggplot2::facet_wrap. Default \"fixed\". facet_ncol Optional integer number columns facets. interactive Logical. TRUE plotly available, return interactive plot via plotly::ggplotly. Default FALSE. ACF values computed stats::acf(..., plot = FALSE) retained coefficient draw series. Note: sigma plots use omega_tilde_jw show variances (covariances) covariance draw. red dashed horizontal lines show approximate significance bounds \\(\\pm z_{1-\\alpha/2}/\\sqrt{n}\\) zero autocorrelation, \\(\\alpha = 1 - \\code{conf_level}\\) \\(n\\) number retained draws corresponding coefficient series.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/add_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Parameter Draws to a Long Data Frame — add_draws","title":"Add Parameter Draws to a Long Data Frame — add_draws","text":"Internal helper checks whether parameter group selected , , delegates draw extraction caller-supplied builder function.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/add_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Parameter Draws to a Long Data Frame — add_draws","text":"","code":"add_draws(   param_name,   draws,   coef_names,   params,   variable,   build_draw_df,   mat_transform = NULL )"},{"path":"https://timothymerlin.github.io/koma/reference/add_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Parameter Draws to a Long Data Frame — add_draws","text":"param_name Character scalar naming parameter group (e.g., \"beta\"). draws list MCMC draws parameter group. coef_names Character vector coefficient names. params Character vector selected parameter groups. variable Character scalar naming endogenous variable. build_draw_df Function converts draws long data.frame. mat_transform Optional function transform draw matrix conversion.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/add_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Parameter Draws to a Long Data Frame — add_draws","text":"data.frame NULL parameter group selected draws available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/adjust_constant_vector.html","id":null,"dir":"Reference","previous_headings":"","what":"Adjust Constant Vector Using Identity Weights — adjust_constant_vector","title":"Adjust Constant Vector Using Identity Weights — adjust_constant_vector","text":"Adjusts given constant vector based list identity weights. identity weights used replace specific elements constant vector corresponding numeric values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/adjust_constant_vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adjust Constant Vector Using Identity Weights — adjust_constant_vector","text":"","code":"adjust_constant_vector(constant_vector, identity_weights)"},{"path":"https://timothymerlin.github.io/koma/reference/adjust_constant_vector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adjust Constant Vector Using Identity Weights — adjust_constant_vector","text":"constant_vector numeric vector representing constant terms adjusted. identity_weights list element corresponds set identity rules.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/adjust_constant_vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adjust Constant Vector Using Identity Weights — adjust_constant_vector","text":"adjusted constant vector numeric form modified values based identity weights.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert an mets koma_ts object to a list — as_list","title":"Convert an mets koma_ts object to a list — as_list","text":"Convert mets koma_ts object list","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert an mets koma_ts object to a list — as_list","text":"","code":"as_list(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/as_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert an mets koma_ts object to a list — as_list","text":"x object converted. ... Additional arguments.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert an mets koma_ts object to a list — as_list","text":"list ets koma_ts objects.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_mets.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a list object with ets koma_ts objects to a koma_ts multivariate time series (mets) — as_mets","title":"Convert a list object with ets koma_ts objects to a koma_ts multivariate time series (mets) — as_mets","text":"Convert list object ets koma_ts objects koma_ts multivariate time series (mets)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_mets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a list object with ets koma_ts objects to a koma_ts multivariate time series (mets) — as_mets","text":"","code":"as_mets(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/as_mets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a list object with ets koma_ts objects to a koma_ts multivariate time series (mets) — as_mets","text":"x object converted. ... Additional arguments.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/as_mets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a list object with ets koma_ts objects to a koma_ts multivariate time series (mets) — as_mets","text":"koma_ts multivariate time series object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/attach_color_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Attach Color Codes to Data Frame Based on Status — attach_color_code","title":"Attach Color Codes to Data Frame Based on Status — attach_color_code","text":"function maps status_column values provided data frame color codes, based specified color mapping, attaches color codes new column color_code data frame.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/attach_color_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Attach Color Codes to Data Frame Based on Status — attach_color_code","text":"","code":"attach_color_code(df_long, marker_color, status_column)"},{"path":"https://timothymerlin.github.io/koma/reference/attach_color_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Attach Color Codes to Data Frame Based on Status — attach_color_code","text":"df_long data frame containing column specified status_column indicates status sample. marker_color named list key-value mapping structure names keys correspond statuses values correspond color codes. status_column name column df_long contains status information.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/attach_color_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Attach Color Codes to Data Frame Based on Status — attach_color_code","text":"data frame identical df_long, additional column color_code contains color codes mapped status_column based marker_color mapping.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/beta_vectorization.html","id":null,"dir":"Reference","previous_headings":"","what":"Vectorize Beta Matrix — beta_vectorization","title":"Vectorize Beta Matrix — beta_vectorization","text":"Converts character representation beta matrix transformation matrix constant vector, vector = transformation_matrix %*% parameters + constant_vector vector = vec(character_beta_matrix)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/beta_vectorization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vectorize Beta Matrix — beta_vectorization","text":"","code":"beta_vectorization(character_beta_matrix)"},{"path":"https://timothymerlin.github.io/koma/reference/beta_vectorization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vectorize Beta Matrix — beta_vectorization","text":"character_beta_matrix character matrix representing beta structure model.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/beta_vectorization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vectorize Beta Matrix — beta_vectorization","text":"list three elements: transformation_matrix numeric matrix used parameter transformation. parameters character vector parameter names. constant_vector numeric vector constant terms.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_fan_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Fan Chart Data from Forecast Quantiles — build_fan_data","title":"Build Fan Chart Data from Forecast Quantiles — build_fan_data","text":"Constructs long data frame lower/upper band values fan charts. requested quantiles missing, computed forecast draws.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_fan_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Fan Chart Data from Forecast Quantiles — build_fan_data","text":"","code":"build_fan_data(x, tsl, forecast_start, variables, fan_quantiles)"},{"path":"https://timothymerlin.github.io/koma/reference/build_fan_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Fan Chart Data from Forecast Quantiles — build_fan_data","text":"x koma_forecast object. tsl -sample time series list used anchor forecast. forecast_start Forecast start date windowing. variables Character vector variables include. fan_quantiles Numeric probabilities fan chart.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_fan_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Fan Chart Data from Forecast Quantiles — build_fan_data","text":"data frame band values plotting NULL bands can constructed.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_whisker_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Whisker Data for Growth Rates from Forecast Quantiles — build_whisker_data","title":"Build Whisker Data for Growth Rates from Forecast Quantiles — build_whisker_data","text":"Constructs data frame lower/upper values growth-rate whiskers. requested quantiles missing, computed forecast draws.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_whisker_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Whisker Data for Growth Rates from Forecast Quantiles — build_whisker_data","text":"","code":"build_whisker_data(x, tsl, forecast_start, variables, fan_quantiles)"},{"path":"https://timothymerlin.github.io/koma/reference/build_whisker_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Whisker Data for Growth Rates from Forecast Quantiles — build_whisker_data","text":"x koma_forecast object. tsl -sample time series list used anchor forecast. forecast_start Forecast start date windowing. variables Character vector variables include. fan_quantiles Numeric probabilities whisker bounds.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/build_whisker_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Whisker Data for Growth Rates from Forecast Quantiles — build_whisker_data","text":"data frame whisker bounds NULL bounds can constructed.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_eq_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Dynamic Weights for Identity Equations — calculate_eq_weights","title":"Calculate Dynamic Weights for Identity Equations — calculate_eq_weights","text":"Computes weights required identity equations using time series data. weights represent components collectively sum related aggregate value specified time period.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_eq_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Dynamic Weights for Identity Equations — calculate_eq_weights","text":"","code":"calculate_eq_weights(ts_data, iden, start, end)"},{"path":"https://timothymerlin.github.io/koma/reference/calculate_eq_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Dynamic Weights for Identity Equations — calculate_eq_weights","text":"ts_data named list stats::ts objects. contain time series data aggregate value components. Ensure ts_data contains time series listed iden. start numeric value representing start date time series data subset. value numeric format used function dates_to_num. end numeric value representing end date time series data subset, numeric format start.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_eq_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Dynamic Weights for Identity Equations — calculate_eq_weights","text":"list stats::ts objects containing calculated weights given aggregate value components. top-level name list aggregate value, sub-level names correspond component names.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the Forecast Error — calculate_error","title":"Calculate the Forecast Error — calculate_error","text":"function calculates desired forecast errors desired variables given true values forecasts","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the Forecast Error — calculate_error","text":"","code":"calculate_error(forecasts, realized, variables)"},{"path":"https://timothymerlin.github.io/koma/reference/calculate_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the Forecast Error — calculate_error","text":"forecasts mets-object containing forecasts. realized mets-object containing true values. variables character vector name(s) stochastic endogenous variable forecast error(s) calculated.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/calculate_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the Forecast Error — calculate_error","text":"List errors","code":""},{"path":"https://timothymerlin.github.io/koma/reference/concat.html","id":null,"dir":"Reference","previous_headings":"","what":"Concatenate two time series — concat","title":"Concatenate two time series — concat","text":"Concatenate two time series","code":""},{"path":"https://timothymerlin.github.io/koma/reference/concat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Concatenate two time series — concat","text":"","code":"concat(x, y, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/concat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Concatenate two time series — concat","text":"x koma_ts object. y koma_ts object concatenated x. ... arguments passed methods (unused default method).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/conditional_fill.html","id":null,"dir":"Reference","previous_headings":"","what":"Conditional Fill and Forecast for Time Series Data — conditional_fill","title":"Conditional Fill and Forecast for Time Series Data — conditional_fill","text":"function fills missing observations extends time series data including current quarter. function conditionally forecasts based estimates realized observations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/conditional_fill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conditional Fill and Forecast for Time Series Data — conditional_fill","text":"","code":"conditional_fill(ts_data, sys_eq, dates, estimates, fill_method)"},{"path":"https://timothymerlin.github.io/koma/reference/conditional_fill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conditional Fill and Forecast for Time Series Data — conditional_fill","text":"ts_data Time-series data set estimation. sys_eq koma_seq object (system_of_equations) containing details system equations used model. dates Key-value list date ranges various model operations. estimates Optional. koma_estimate object (see estimate) containing estimates previously estimated simultaneous equations model. Use parameter equations system need re-estimated. fill_method Character string indicating central tendency measure (\"mean\" \"median\") use filling ragged edges.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/conditional_fill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conditional Fill and Forecast for Time Series Data — conditional_fill","text":"extended time series list containing filled forecasted time series current quarter.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_balanced_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Balanced Data — construct_balanced_data","title":"Construct Balanced Data — construct_balanced_data","text":"Construct Balanced Data","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_balanced_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Balanced Data — construct_balanced_data","text":"","code":"construct_balanced_data(   ts_data,   endogenous_variables,   total_exogenous_variables,   start,   end,   state = NULL )"},{"path":"https://timothymerlin.github.io/koma/reference/construct_balanced_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Balanced Data — construct_balanced_data","text":"ts_data Time series data. endogenous_variables Endogenous variables. total_exogenous_variables Exogenous / predetermined variables include x matrix. start Start date truncation. end End date truncation. state environment used share mutable state function calls, particularly issuing warnings forecasting process.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_balanced_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Balanced Data — construct_balanced_data","text":"list containing truncated time series data, y_matrix, x_matrix number observations, date last observation frequency.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_hat_j_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct \\(\\hat{\\beta_j}\\) — construct_beta_hat_j_matrix","title":"Construct \\(\\hat{\\beta_j}\\) — construct_beta_hat_j_matrix","text":"\\(\\hat{\\beta_j} = (x_b'x_b)^{-1} x_b' Z_j\\) \\(x_b\\) predetermined variables constant equation \\(j\\) \\(Z_j = y_j - Y_j * \\gamma_j\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_hat_j_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct \\(\\hat{\\beta_j}\\) — construct_beta_hat_j_matrix","text":"","code":"construct_beta_hat_j_matrix(x_matrix, z_matrix_j, character_beta_matrix, jx)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_hat_j_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct \\(\\hat{\\beta_j}\\) — construct_beta_hat_j_matrix","text":"x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. z_matrix_j \\(Z_j = y_j - Y_j * \\gamma_j\\) matrix. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_hat_j_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct \\(\\hat{\\beta_j}\\) — construct_beta_hat_j_matrix","text":"\\(\\hat{\\beta_j}\\) dimensions \\(k \\times 1\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Beta Matrix — construct_beta_matrix","title":"Construct Beta Matrix — construct_beta_matrix","text":"Constructs B matrix based given system equations exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Beta Matrix — construct_beta_matrix","text":"","code":"construct_beta_matrix(equations, exogenous_variables)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Beta Matrix — construct_beta_matrix","text":"equations character string containing system equations, equations separated commas. exogenous_variables character vector representing exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_beta_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Beta Matrix — construct_beta_matrix","text":"Beta matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_companion_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Companion Matrices for Dynamic SEM — construct_companion_matrix","title":"Construct Companion Matrices for Dynamic SEM — construct_companion_matrix","text":"Construct Companion Matrices Dynamic SEM","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_companion_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Companion Matrices for Dynamic SEM — construct_companion_matrix","text":"","code":"construct_companion_matrix(posterior, exogenous_variables)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_companion_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Companion Matrices for Dynamic SEM — construct_companion_matrix","text":"posterior list containing gamma_matrix, beta_matrix,  sigma_matrix phi_matrix derived LIBA estimates. exogenous_variables character vector names exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_companion_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Companion Matrices for Dynamic SEM — construct_companion_matrix","text":"list containing matrices companion form: phi_matrix, beta_tilde_matrix, gamma_matrix, c_matrix, values n p.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_gamma_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Gamma Matrix — construct_gamma_matrix","title":"Construct Gamma Matrix — construct_gamma_matrix","text":"Constructs Gamma matrix based given system equations endogenous variables. function constructs Gamma matrix, diagonal matrix representing coefficients endogenous variables system equations. Gamma matrix used various econometric models. also returns constructed weights parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_gamma_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Gamma Matrix — construct_gamma_matrix","text":"","code":"construct_gamma_matrix(equations, endogenous_variables)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_gamma_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Gamma Matrix — construct_gamma_matrix","text":"equations character string containing system equations, equations separated commas. endogenous_variables character vector representing endogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_gamma_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Gamma Matrix — construct_gamma_matrix","text":"Gamma matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_phi.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a Dynamic SEM (Structural Equation Model) Phi Matrix — construct_phi","title":"Construct a Dynamic SEM (Structural Equation Model) Phi Matrix — construct_phi","text":"function constructs list lagged endogenous coefficient matrices \\(\\Phi(1), \\ldots, \\Phi(L)\\) system equations beta matrix. identifies lagged endogenous regressors equation maps coefficients corresponding \\(\\Phi(\\ell)\\) matrix dynamic SEM: \\(Y\\Gamma = \\tilde{X}\\tilde{B} + Y_{t-1}\\Phi(1) + \\cdots + Y_{t-p}\\Phi(L) + U.\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_phi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a Dynamic SEM (Structural Equation Model) Phi Matrix — construct_phi","text":"","code":"construct_phi(sys_eq, beta_matrix)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_phi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a Dynamic SEM (Structural Equation Model) Phi Matrix — construct_phi","text":"sys_eq list containing system equations. Must include $equations equations system, $endogenous_variables names endogenous variables, $total_exogenous_variables names exogenous variables. beta_matrix numeric matrix beta coefficients corresponding exogenous variables system equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_phi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a Dynamic SEM (Structural Equation Model) Phi Matrix — construct_phi","text":"named list \\(n \\times n\\) matrices, one per lag \\(\\ell\\), matrix \\(\\Phi(\\ell)\\) contains coefficients \\(\\ell\\)-lagged endogenous variables. list names correspond lag orders (character strings).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_pi_hat_0.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct reduced form coefficients \\(\\Pi_0\\) — construct_pi_hat_0","title":"Construct reduced form coefficients \\(\\Pi_0\\) — construct_pi_hat_0","text":"Computes estimated \\(\\Pi_0\\), \\((k \\times n_j)\\) matrix reduced form coefficients, \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_pi_hat_0.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct reduced form coefficients \\(\\Pi_0\\) — construct_pi_hat_0","text":"","code":"construct_pi_hat_0(x_matrix, z_matrix_j)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_pi_hat_0.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct reduced form coefficients \\(\\Pi_0\\) — construct_pi_hat_0","text":"x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. z_matrix_j \\(Z_j = y_j - Y_j * \\gamma_j\\) matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_pi_hat_0.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct reduced form coefficients \\(\\Pi_0\\) — construct_pi_hat_0","text":"\\(\\hat{\\Pi_0}\\) dimensions \\((k \\times n_j)\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","title":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","text":"function constructs posterior system matrices LIBA estimates. produces structural coefficient matrices \\(\\Gamma\\) \\(B\\), implied reduced-form coefficient matrix \\(\\Phi\\), structural shock covariance matrix \\(\\Sigma\\), reduced-form innovation covariance matrix \\(\\Omega = (\\Gamma^{-1})'\\Sigma\\Gamma^{-1}\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","text":"","code":"construct_posterior(sys_eq, estimate)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","text":"sys_eq koma_seq object (system_of_equations) containing details system equations used model. estimate draw contains beta, gamma omega tilde estimates.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","text":"list containing posterior system matrices: gamma_matrix: Posterior \\(\\Gamma\\) (n x n) structural coefficient matrix. beta_matrix: Posterior \\(B\\) (k x n) exogenous coefficient matrix. phi_matrix: List lagged endogenous coefficient matrices (n x n). sigma_matrix: Structural shock covariance matrix \\(\\Sigma\\) (n x n). omega_matrix: Reduced-form innovation covariance matrix \\(\\Omega = (\\Gamma^{-1})'\\Sigma\\Gamma^{-1}\\) (n x n).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_posterior.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Construct Posterior Matrices from LIBA Estimates — construct_posterior","text":"Identity equations incorporated via update_estimates_with_weights(). Structural shocks identities assumed zero variance, implying corresponding zero rows columns \\(\\Sigma\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_priors_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct priors for a single equation — construct_priors_j","title":"Construct priors for a single equation — construct_priors_j","text":"construct_priors_j generates prior hyperparameters equation jx based user-specified priors model's coefficient matrices.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_priors_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct priors for a single equation — construct_priors_j","text":"","code":"construct_priors_j(priors, character_gamma_matrix, character_beta_matrix, jx)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_priors_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct priors for a single equation — construct_priors_j","text":"priors priors \\(\\theta\\) equation \\(j\\). character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_priors_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct priors for a single equation — construct_priors_j","text":"list elements: theta_mean: prior means exogenous coefficients intercept. theta_vcv: prior variance-covariance matrix exogenous terms. omega_df: degrees freedom error covariance prior. omega_scale: scale matrix error covariance prior. gamma_mean: prior means endogenous coefficients (set). gamma_vcv: prior variance-covariance endogenous terms.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_reduced_form.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Reduced Form Parameters from Companion Matrix — construct_reduced_form","title":"Construct Reduced Form Parameters from Companion Matrix — construct_reduced_form","text":"function computes reduced form parameters companion_pi, companion_theta, companion_d using provided companion_matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_reduced_form.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Reduced Form Parameters from Companion Matrix — construct_reduced_form","text":"","code":"construct_reduced_form(companion_matrix)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_reduced_form.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Reduced Form Parameters from Companion Matrix — construct_reduced_form","text":"companion_matrix list containing matrices beta_tilde_matrix, phi_matrix, gamma_matrix, c_matrix used calculate reduced form parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_reduced_form.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Reduced Form Parameters from Companion Matrix — construct_reduced_form","text":"list containing matrices companion_pi, companion_theta, companion_d represent reduced form parameters","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_bar_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","title":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","text":"Computes posterior mean \\(\\hat{\\Theta}_j\\) informative priors, \\((k \\times (1 + n_j))\\) matrix, \\(n_j\\) number endogenous variables equation \\(j\\) k number exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_bar_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","text":"","code":"construct_theta_bar_j(x_matrix, z_matrix_j, priors_j, omega_tilde_jw)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_bar_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","text":"x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. z_matrix_j \\(Z_j = y_j - Y_j * \\gamma_j\\) matrix. omega_tilde_jw variance-covariance matrix \\(\\tilde{\\Omega}_j = '_j \\Omega_j A_j\\) row \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_bar_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","text":"\\(\\hat{\\Theta}_j\\) dimensions \\((k \\times (1 + n_j))\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_bar_j.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Construct \\(\\bar{\\Theta}_j\\) — construct_theta_bar_j","text":"\\(  \\bar{\\Theta}_j = \\overline{\\Xi} \\left(    kron(\\tilde{\\Omega},X'X) \\hat{\\theta} +    \\underline{\\Xi}^{-1} \\underline{\\theta}    \\right) \\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_hat_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","title":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","text":"Computes OLS estimate \\(\\hat{\\Theta}_j\\), \\((k \\times (1 + n_j))\\) matrix, \\(n_j\\) number endogenous variables equation \\(j\\) k number exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_hat_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","text":"","code":"construct_theta_hat_j(x_matrix, z_matrix_j)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_hat_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","text":"x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. z_matrix_j \\(Z_j = y_j - Y_j * \\gamma_j\\) matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_hat_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","text":"\\(\\hat{\\Theta}_j\\) dimensions \\((k \\times (1 + n_j))\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_theta_hat_j.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Construct \\(\\hat{\\Theta}_j\\) — construct_theta_hat_j","text":"\\(\\hat{\\Theta}_j = (X'X)^{-1}X' Z_j\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_y_matrix_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Constructs a matrix of endogenous variables appearing in equation j — construct_y_matrix_j","title":"Constructs a matrix of endogenous variables appearing in equation j — construct_y_matrix_j","text":"extracts \\((T x n_j)\\) matrix endogenous variables appearing equation \\(j\\), \\(T\\) number observations \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_y_matrix_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constructs a matrix of endogenous variables appearing in equation j — construct_y_matrix_j","text":"","code":"construct_y_matrix_j(y_matrix, character_gamma_matrix, jx)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_y_matrix_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Constructs a matrix of endogenous variables appearing in equation j — construct_y_matrix_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_y_matrix_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Constructs a matrix of endogenous variables appearing in equation j — construct_y_matrix_j","text":"equation \\(j\\) contains \\(\\gamma\\) parameters, function returns subset \\(Y\\). gamma parameters, function returns NA.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_z_matrix_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct Z_j — construct_z_matrix_j","title":"Construct Z_j — construct_z_matrix_j","text":"\\(Z_j = [ \\, y_j - Y_j * \\gamma_j, Y_j ] \\,\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_z_matrix_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct Z_j — construct_z_matrix_j","text":"","code":"construct_z_matrix_j(gamma_parameters_j, y_matrix, y_matrix_j, jx)"},{"path":"https://timothymerlin.github.io/koma/reference/construct_z_matrix_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct Z_j — construct_z_matrix_j","text":"gamma_parameters_j \\((n_j \\times 1)\\) matrix parameters \\(\\gamma\\) matrix, \\(n_j\\) number endogenous variables equation \\(j\\). y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. y_matrix_j \\((T \\times n_j)\\) matrix endogenous variables appearing equation \\(j\\), \\(T\\) number observations \\(n_j\\) number endogenous variables equation \\(j\\). jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/construct_z_matrix_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct Z_j — construct_z_matrix_j","text":"\\(Z_j\\) matrix dimensions \\(T \\times 2\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_annotations.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Plotly Annotations at Ticks — create_annotations","title":"Create Plotly Annotations at Ticks — create_annotations","text":"Generates list annotations Plotly plots based x tick position. function designed create text annotations specific points plot, -sample --sample ticks, customizable y positions formatting.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_annotations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Plotly Annotations at Ticks — create_annotations","text":"","code":"create_annotations(   x_ticks,   y_position,   font = list(family = NULL, size = NULL) )"},{"path":"https://timothymerlin.github.io/koma/reference/create_annotations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Plotly Annotations at Ticks — create_annotations","text":"x_ticks data frame containing tick information. Must include columns year x-axis positions, value text annotations, color_code color text. y_position Numeric value specifying y-axis position annotations, typically paper coordinates (0 1). font list specifying font attributes annotation text, optional family size components customize font family size, respectively. specified, default Plotly text properties used.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_annotations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Plotly Annotations at Ticks — create_annotations","text":"list lists, inner list represents annotation format required Plotly. annotation includes properties position, text, formatting.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_lagged_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Lagged Variables for Time Series Data — create_lagged_variables","title":"Create Lagged Variables for Time Series Data — create_lagged_variables","text":"function creates lagged variables given time series data, considering provided endogenous exogenous variables along predetermined variables. lagged variables created based pattern predetermined variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_lagged_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Lagged Variables for Time Series Data — create_lagged_variables","text":"","code":"create_lagged_variables(   ts_data,   endogenous_variables,   exogenous_variables,   predetermined_variables )"},{"path":"https://timothymerlin.github.io/koma/reference/create_lagged_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Lagged Variables for Time Series Data — create_lagged_variables","text":"ts_data named list time series objects. endogenous_variables character vector names endogenous variables. exogenous_variables character vector names exogenous variables. predetermined_variables character vector names predetermined variables, contains lag information format \"var.L(k)\" \"var\" variable name \"k\" lag (e.g., \"var.L(1)\" first lag variable \"var\").","code":""},{"path":"https://timothymerlin.github.io/koma/reference/create_lagged_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Lagged Variables for Time Series Data — create_lagged_variables","text":"named list time series objects lagged variables added according predetermined pattern.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_num.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Date to Numeric Format — dates_to_num","title":"Convert Date to Numeric Format — dates_to_num","text":"function converts vector, list, 2-element numeric vector years quarters numeric representation. format year + (quarter - 1) / frequency, frequency number periods year (e.g., 4 quarters).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_num.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Date to Numeric Format — dates_to_num","text":"","code":"dates_to_num(x, frequency, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_num.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Date to Numeric Format — dates_to_num","text":"x numeric vector length 2 (year, quarter), list vectors. single year, pass just year scalar. frequency numeric value indicating number periods year (e.g., 4 quarters, 12 months). ... Additional arguments passed methods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_num.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Date to Numeric Format — dates_to_num","text":"numeric representation date(s).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_str.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Dates to String Format — dates_to_str","title":"Convert Dates to String Format — dates_to_str","text":"function converts dates represented two-element numeric vector (year, period), Date, POSIXct, list , character. quarterly data (frequency = 4), returns \"YYYY Qn\". monthly data (frequency = 12), returns \"YYYY-MM\". Otherwise, returns \"YYYY-MM-DD\".","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_str.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Dates to String Format — dates_to_str","text":"","code":"dates_to_str(x, frequency, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_str.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Dates to String Format — dates_to_str","text":"x numeric vector length 2 (year, period), Date, POSIXct, list . frequency integer number periods per year (e.g., 4 = quarters, 12 = months). ... Additional arguments passed methods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/dates_to_str.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Dates to String Format — dates_to_str","text":"character string list character strings.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_edge.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect the edge of a list of time series — detect_edge","title":"Detect the edge of a list of time series — detect_edge","text":"Identify either earliest end latest start date across set ts objects, relative given start end bounds.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_edge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect the edge of a list of time series — detect_edge","text":"","code":"detect_edge(ts_data, start, end, direction = c(\"end\", \"start\"))"},{"path":"https://timothymerlin.github.io/koma/reference/detect_edge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect the edge of a list of time series — detect_edge","text":"ts_data Named list ts objects inspect. start Numeric lower bound trimming series. end Numeric upper bound trimming series. direction Character; either \"end\" (default) find earliest end date, \"start\" find latest start date.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_edge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect the edge of a list of time series — detect_edge","text":"list components: date: detected edge date (numeric). variable_names: Names series achieving edge.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_lag.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Lag Number from Variable Name — detect_lag","title":"Detect Lag Number from Variable Name — detect_lag","text":"function takes variable name input extracts lag number . lag number assumed positive integer preceded letter 'L'.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_lag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Lag Number from Variable Name — detect_lag","text":"","code":"detect_lag(variable_name)"},{"path":"https://timothymerlin.github.io/koma/reference/detect_lag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Lag Number from Variable Name — detect_lag","text":"variable_name character string representing variable name.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/detect_lag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Lag Number from Variable Name — detect_lag","text":"integer representing detected lag number variable name. Returns NA lag detected.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw gamma parameters for equation j — draw_gamma_j","title":"Draw gamma parameters for equation j — draw_gamma_j","text":"draw_gamma_j draws \\(\\gamma\\) parameters given posterior distribution equation \\(j\\), Metropolis-Hastings algorithm.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw gamma parameters for equation j — draw_gamma_j","text":"","code":"draw_gamma_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_parameters_j,   tau,   cholesky_of_inverse_hessian )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw gamma parameters for equation j — draw_gamma_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_parameters_j \\((n_j \\times 1)\\) matrix parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\). tau tuning scalar \\(\\tau\\) adjust acceptance rate. cholesky_of_inverse_hessian Cholesky factor \\(L\\) inverse Hessian matrix \\(M^{-1}\\) used generate candidate draws.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw gamma parameters for equation j — draw_gamma_j","text":"\\((n_j \\times 1)\\) matrix either accepted candidate previous gamma parameters. Returns 0 endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw gamma parameters for equation j — draw_gamma_j_informative","title":"Draw gamma parameters for equation j — draw_gamma_j_informative","text":"draw_gamma_j_informative draws \\(\\gamma\\) parameters given posterior distribution equation \\(j\\), Metropolis-Hastings algorithm.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw gamma parameters for equation j — draw_gamma_j_informative","text":"","code":"draw_gamma_j_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw,   tau,   cholesky_of_inverse_hessian,   omega_jw,   theta_jw,   priors_j )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw gamma parameters for equation j — draw_gamma_j_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\). tau tuning scalar \\(\\tau\\) adjust acceptance rate. cholesky_of_inverse_hessian Cholesky factor \\(L\\) inverse Hessian matrix \\(M^{-1}\\) used generate candidate draws. omega_jw \\({\\Omega}_j^{(w)}\\) theta_jw \\((k \\times nj+1)\\), \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_gamma_j_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw gamma parameters for equation j — draw_gamma_j_informative","text":"\\((n_j \\times 1)\\) matrix either accepted candidate previous gamma parameters. Returns 0 endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j","text":"draw_omega_j draws variance-covariance matrix \\(\\tilde{\\Omega}_j\\) row \\([ u_j,  V_j ]\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j","text":"","code":"draw_omega_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_parameters_j )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j","text":"List containing \\({\\tilde{\\Omega}}_j^{(w)}\\) omega_tilde_jw \\(\\Omega_j^{(w)}\\) omega_jw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j_informative","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j_informative","text":"draw_omega_j_informative draws variance-covariance matrix \\(\\tilde{\\Omega}_j\\) row \\([ u_j,  V_j ]\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j_informative","text":"","code":"draw_omega_j_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw,   theta_jw,   priors_j )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\). theta_jw \\((k \\times nj+1)\\), \\(n_j\\) number endogenous variables equation \\(j\\). priors_j priors \\(\\omega\\) equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_omega_j_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Omega from inverse Wishart distribution for equation j — draw_omega_j_informative","text":"List containing \\({\\tilde{\\Omega}}_j^{(w)}\\) omega_tilde_jw \\(\\Omega_j^{(w)}\\) omega_jw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Parameters for equation j — draw_parameters_j","title":"Draw Parameters for equation j — draw_parameters_j","text":"draw_parameters_j simulates posterior model's parameters equation \\(j\\) separately. posterior simulated using Metropolis-within-Gibbs sampling procedure.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Parameters for equation j — draw_parameters_j","text":"","code":"draw_parameters_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gibbs_sampler )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Parameters for equation j — draw_parameters_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gibbs_sampler object class gibbs_sampler holds equations gibbs settings.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Parameters for equation j — draw_parameters_j","text":"list containing matrices saved draws parameters additional diagnostic information.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Draw Parameters for equation j — draw_parameters_j","text":"sampler works follows: Initialize sampler Conditional \\(\\Omega^{(w-1)}\\) data draw \\(delta_{\\gamma}\\). Conditional \\(delta_{\\gamma}^{(w)}\\) draw \\(\\Omega^{(w)}\\). Conditional \\(Omega^{(w)}\\) \\(\\delta_{\\gamma}^{(w)}\\) draw \\(\\delta_\\beta^{(w)}\\). Go back step 2.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Parameters for equation j — draw_parameters_j_informative","title":"Draw Parameters for equation j — draw_parameters_j_informative","text":"draw_parameters_j_informative simulates posterior model's parameters equation \\(j\\) separately using informative prior. posterior simulated using Metropolis-within-Gibbs sampling procedure.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Parameters for equation j — draw_parameters_j_informative","text":"","code":"draw_parameters_j_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gibbs_sampler,   priors )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Parameters for equation j — draw_parameters_j_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gibbs_sampler object class gibbs_sampler holds equations gibbs settings. priors priors \\(\\theta\\) equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Parameters for equation j — draw_parameters_j_informative","text":"list containing matrices saved draws parameters additional diagnostic information.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_parameters_j_informative.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Draw Parameters for equation j — draw_parameters_j_informative","text":"sampler works follows: Initialize sampler: \\(delta_{\\gamma}^{(0)}\\) \\(\\Omega^{(0)}\\) Conditional \\(delta_{\\gamma}^{(w-1)}\\) \\(\\Omega^{(w-1)}\\) data draw \\(delta_{\\theta}\\). Conditional \\(delta_{\\gamma}^{(w-1)}\\), \\(delta_{\\theta}^{(w)}\\) draw \\(\\Omega^{(w)}\\). Conditional \\(delta_{\\theta}^{(w)}\\), \\(Omega^{(w)}\\) draw \\(\\delta_{\\gamma}^{(w)}\\). Go back step 2.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Theta from multivariate normal distribution for equation j — draw_theta_j","title":"Draw Theta from multivariate normal distribution for equation j — draw_theta_j","text":"Draw Theta multivariate normal distribution equation j","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Theta from multivariate normal distribution for equation j — draw_theta_j","text":"","code":"draw_theta_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_parameters_j,   omega_tilde_jw )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Theta from multivariate normal distribution for equation j — draw_theta_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_parameters_j \\((n_j \\times 1)\\) matrix parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Theta from multivariate normal distribution for equation j — draw_theta_j","text":"List containing theta_jw beta_jw","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw Theta from multivariate normal distribution for equation j draw_theta_j_informative draw \\(\\theta\\) parameters from a given posterior distribution for an equation \\(j\\). — draw_theta_j_informative","title":"Draw Theta from multivariate normal distribution for equation j draw_theta_j_informative draw \\(\\theta\\) parameters from a given posterior distribution for an equation \\(j\\). — draw_theta_j_informative","text":"Draw Theta multivariate normal distribution equation j draw_theta_j_informative draw \\(\\theta\\) parameters given posterior distribution equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw Theta from multivariate normal distribution for equation j draw_theta_j_informative draw \\(\\theta\\) parameters from a given posterior distribution for an equation \\(j\\). — draw_theta_j_informative","text":"","code":"draw_theta_j_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw,   omega_jw,   priors_j )"},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw Theta from multivariate normal distribution for equation j draw_theta_j_informative draw \\(\\theta\\) parameters from a given posterior distribution for an equation \\(j\\). — draw_theta_j_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\). omega_jw \\({\\Omega}_j^{(w)}\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draw_theta_j_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw Theta from multivariate normal distribution for equation j draw_theta_j_informative draw \\(\\theta\\) parameters from a given posterior distribution for an equation \\(j\\). — draw_theta_j_informative","text":"List containing theta_jw beta_jw","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draws_to_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Draw Lists to Matrices — draws_to_matrix","title":"Convert Draw Lists to Matrices — draws_to_matrix","text":"Convert list MCMC draw objects matrix rows correspond coefficients columns correspond draws. draws 3D arrays, first slice used.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draws_to_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Draw Lists to Matrices — draws_to_matrix","text":"","code":"draws_to_matrix(draws)"},{"path":"https://timothymerlin.github.io/koma/reference/draws_to_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Draw Lists to Matrices — draws_to_matrix","text":"draws list draws, element numeric vector matrix representing coefficient values single draw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/draws_to_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Draw Lists to Matrices — draws_to_matrix","text":"numeric matrix draws, NULL draws empty.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate the Simultaneous Equations Model (SEM) — estimate","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"Estimate system simultaneous equations model (SEM) using Bayesian approach. function incorporates Gibbs sampling allows density point forecasts.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"","code":"estimate(   ts_data,   sys_eq,   dates,   ...,   options = list(gibbs = list(), fill = list(method = \"mean\")),   estimates = NULL )"},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"ts_data Time-series data set estimation. sys_eq koma_seq object (system_of_equations) containing details system equations used model. dates Key-value list date ranges various model operations. ... Additional parameters. options Optional settings estimation. Use list(gibbs = list(), fill = list(method = \"mean\")). Elements: gibbs: Gibbs sampler settings (see Gibbs Sampler Specifications). fill$method: \"mean\" \"median\" used fill ragged edges estimation. See Gibbs Sampler Specifications. estimates Optional. koma_estimate object (see estimate) containing estimates previously estimated simultaneous equations model. Use parameter equations system need re-estimated.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"object class koma_estimate. object class koma_estimateis list containing following elements: estimates estimated parameters relevant information obtained model. sys_eq koma_seq object containing details system equations used model. ts_data time-series data used estimation, NA values removed lagged variables created. y_matrix Y matrix constructed balanced data, used estimation process. x_matrix X matrix constructed balanced data, used estimation process. gibbs_specifications specifications used Gibbs sampling. dates date ranges used estimation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"estimation, use summary full table posterior summaries (optional credible intervals texreg output) print concise console-friendly overview estimated system.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"parallel","dir":"Reference","previous_headings":"","what":"Parallel","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"function provides option parallel computing future::plan() function. detailed example executing estimate parallel, see vignette: vignette(\"parallel\"). details, see future package documentation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate.html","id":"gibbs-sampler-specifications","dir":"Reference","previous_headings":"","what":"Gibbs Sampler Specifications","title":"Estimate the Simultaneous Equations Model (SEM) — estimate","text":"ndraws: Integer specifying number Gibbs sampler draws. Default 2000. burnin_ratio: Numeric specifying ratio burn-period. Default 0.5. nstore: Integer specifying frequency stored draws. Default 1. tau: Numeric tuning parameter enforcing acceptance rate. Default 1.1.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/estimate_sem.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Parameters in a System of Equations — estimate_sem","title":"Estimate Parameters in a System of Equations — estimate_sem","text":"function estimates parameters given system equations using either single thread parallel computing.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate_sem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Parameters in a System of Equations — estimate_sem","text":"","code":"estimate_sem(sys_eq, y_matrix, x_matrix, eq_jx = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/estimate_sem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Parameters in a System of Equations — estimate_sem","text":"sys_eq koma_seq object (system_of_equations) containing details system equations used model. y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. eq_jx numeric vector indicating indices endogenous equations \\(j\\) estimated. NULL, endogenous equations estimated. vector contain positive integers corresponding positions equations within endogenous_variables list.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate_sem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Parameters in a System of Equations — estimate_sem","text":"List estimates endogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/estimate_sem.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Parameters in a System of Equations — estimate_sem","text":"function provides option parallel computing future::plan() function. details, see future package documentation: https://cran.r-project.org/web/packages/future/future.pdf","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extend_ts_with_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","title":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","text":"function takes named list original time series extends series forecast values multi-time series (mts) dates already original time series.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extend_ts_with_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","text":"","code":"extend_ts_with_forecast(ts_list, forecast_mts)"},{"path":"https://timothymerlin.github.io/koma/reference/extend_ts_with_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","text":"ts_list named list original time series objects. forecast_mts multi-time series object forecast values. column names match names ts_list.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extend_ts_with_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","text":"named list time series objects, extended forecast values new dates . time series whose names present forecast_mts, original time series returned unmodified.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extend_ts_with_forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extend Time Series List with Forecast Values at New Dates — extend_ts_with_forecast","text":"function extend time series ts_list appending forecast values forecast_mts. extension occur dates already exist original time series.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract.koma_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a texreg summary from a koma_estimate — extract.koma_estimate","title":"Extract a texreg summary from a koma_estimate — extract.koma_estimate","text":"Builds one texreg objects koma_estimate, results can rendered texreg::screenreg() similar helpers.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract.koma_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a texreg summary from a koma_estimate — extract.koma_estimate","text":"","code":"extract.koma_estimate(   model,   variables = NULL,   central_tendency = \"mean\",   ci_low = 5,   ci_up = 95,   digits = 2,   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/extract.koma_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a texreg summary from a koma_estimate — extract.koma_estimate","text":"model koma_estimate object. variables Optional character vector endogenous variables include. Defaults variables model$estimates. central_tendency Central tendency used summarizing estimates (e.g., \"mean\", \"median\"). Defaults \"mean\". ci_low Lower bound (percent) credible intervals. Defaults 5. ci_up Upper bound (percent) credible intervals. Defaults 95. digits Number digits round numeric values. Defaults 2. ... Unused. Included texreg::extract() compatibility.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract.koma_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a texreg summary from a koma_estimate — extract.koma_estimate","text":"texreg object one variable requested, otherwise named list texreg objects.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/extract_estimates_from_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Median Estimates — extract_estimates_from_draws","title":"Extract Median Estimates — extract_estimates_from_draws","text":"function computes either central tendency estimates (median mean) returns estimates specific draw gamma, beta, sigma matrices. mainly used internally construct_posterior function.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract_estimates_from_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Median Estimates — extract_estimates_from_draws","text":"","code":"extract_estimates_from_draws(   sys_eq,   estimates,   jx = NULL,   central_tendency = \"mean\" )"},{"path":"https://timothymerlin.github.io/koma/reference/extract_estimates_from_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Median Estimates — extract_estimates_from_draws","text":"sys_eq list containing detailed components system equations endogenous_variables, total_exogenous_variables, identity_equations, character_beta_matrix, character_gamma_matrix. estimates list estimates, obtained previous estimation procedures. jx index set posterior constructed estimate draw jx, otherwise posterior constructed using median estimates. default posterior constructed using median estimates. central_tendency character string indicating central tendency measure (\"mean\" \"median\") use. Default \"mean\". Active jx NULL.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract_estimates_from_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Median Estimates — extract_estimates_from_draws","text":"list containing: gamma_matrix: Either central tendency estimates specific draw estimates gamma values, depending jx. beta_matrix: Either central tendency estimates specific draw estimates beta values, depending jx. sigma_matrix: Either central tendency estimates specific draw estimates sigma values, depending jx.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract_lagged_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Lagged Variables from Equations — extract_lagged_vars","title":"Extract Lagged Variables from Equations — extract_lagged_vars","text":"function extracts lagged variables given system equations using provided pattern defines lagged variables structured. iterates equation, finds matching lag expressions, standardizes form var.L(lag). also rewrites equation expand lag expressions returns modified equations set unique lagged variables found.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract_lagged_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Lagged Variables from Equations — extract_lagged_vars","text":"","code":"extract_lagged_vars(equations, pattern)"},{"path":"https://timothymerlin.github.io/koma/reference/extract_lagged_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Lagged Variables from Equations — extract_lagged_vars","text":"equations character vector equations strings. pattern list defining regex pattern capture positions variable name lag specification. Must contain elements regex, var_pos, lag_spec_pos.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/extract_lagged_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Lagged Variables from Equations — extract_lagged_vars","text":"list two elements: variables Character vector unique lagged variables extracted. equations Character vector transformed equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/fill_ragged_edge.html","id":null,"dir":"Reference","previous_headings":"","what":"Fill Ragged Edges in Time Series Data — fill_ragged_edge","title":"Fill Ragged Edges in Time Series Data — fill_ragged_edge","text":"function fills ragged edges time series data set using system equations model. iteratively detects edges, estimates model, fills unobserved series using one-step ahead conditional forecast time series balanced.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/fill_ragged_edge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fill Ragged Edges in Time Series Data — fill_ragged_edge","text":"","code":"fill_ragged_edge(ts_data, sys_eq, exogenous_variables, dates, fill_method)"},{"path":"https://timothymerlin.github.io/koma/reference/fill_ragged_edge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fill Ragged Edges in Time Series Data — fill_ragged_edge","text":"ts_data Time-series data set estimation. sys_eq koma_seq object (system_of_equations) containing details system equations used model. exogenous_variables character vector exogenous variables. dates Key-value list date ranges various model operations. fill_method Character string indicating central tendency measure (\"mean\" \"median\") use filling ragged edges.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/fill_ragged_edge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fill Ragged Edges in Time Series Data — fill_ragged_edge","text":"list containing updated time series data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/find_extremas.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Extrema Values for Growth Rates and Levels — find_extremas","title":"Find Extrema Values for Growth Rates and Levels — find_extremas","text":"Computes minimum maximum values growth rates levels given data frame, adjusting values certain percentage provide margin. function useful determining range y-axis values plotting functions.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/find_extremas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Extrema Values for Growth Rates and Levels — find_extremas","text":"","code":"find_extremas(df_long, whisker_data = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/find_extremas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Extrema Values for Growth Rates and Levels — find_extremas","text":"df_long data frame long format includes 'data_type' column, contain types 'growth' 'level' categorizing data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/find_extremas.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Extrema Values for Growth Rates and Levels — find_extremas","text":"list two elements 'growth' 'level', containing 'min' 'max' sub-element. represent adjusted minimum maximum values growth rates levels, respectively.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast the Simultaneous Equations Model (SEM) — forecast","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"function produces forecasts SEM.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"","code":"forecast(   estimates,   dates,   ...,   restrictions = NULL,   options = list(approximate = FALSE, probs = NULL, fill = list(method = \"mean\"),     conditional_innov_method = \"projection\") )"},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"estimates koma_estimate object (estimate) containing estimates simultaneous equations model, well list time series koma_seq object (system_of_equations) used estimation. dates Key-value list date ranges various model operations. ... Additional parameters. restrictions List model constraints. Default empty. options Optional settings forecasting. Use list(approximate = FALSE, probs = NULL, fill = list(method = \"mean\"), conditional_innov_method = \"projection\"). Elements: approximate: Logical. FALSE (default), compute point forecasts predictive draws. TRUE, compute point forecasts mean/median coefficient draws (fast approximation). probs: Numeric vector quantile probabilities. NULL, quantiles returned. approximate = FALSE probs NULL, defaults setdiff(get_quantiles(), 0.5). fill$method: \"mean\" \"median\" used conditional fill forecasting. conditional_innov_method: Method drawing conditional innovations. One \"projection\" (default) \"eigen\".","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"object class koma_forecast. object class koma_forecast list containing following elements: mean Mean point forecasts list time series class koma_ts. median Median point forecasts list time series class koma_ts. quantiles list quantiles, element named according quantile (e.g., \"q_5\", \"q_50\", \"q_95\"), contains forecasts quantile. element NULL quantiles = FALSE. ts_data Time-series data set used forecasting. y_matrix Y matrix constructed balanced data current quarter, used forecasting. x_matrix X matrix used forecasting.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"forecast function SEM uses estimates koma_estimate object produce point forecasts , optionally, quantile forecasts. options$approximate FALSE (default), point forecasts computed predictive draws (quantiles controlled options$probs). TRUE, point forecasts computed mean median coefficient draws faster, approximate results. returned koma_forecast object keeps forecasts named lists koma_ts (mean, median, quantiles) alongside input data matrices used produce . Use print method print forecast results, use plot method, visualize forecasts prediction intervals.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast.html","id":"parallel","dir":"Reference","previous_headings":"","what":"Parallel","title":"Forecast the Simultaneous Equations Model (SEM) — forecast","text":"function provides option parallel computing future::plan() function. detailed example executing estimate parallel, see vignette: vignette(\"parallel\"). details, see future package documentation.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/forecast_draw.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a Forecast for a Single Draw — forecast_draw","title":"Generate a Forecast for a Single Draw — forecast_draw","text":"function computes forecast single draw parameter estimates, supporting point forecasts (mean median) density forecasts. constructs posterior distribution, companion matrix, reduced-form representation system computing forecasts.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_draw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a Forecast for a Single Draw — forecast_draw","text":"","code":"forecast_draw(   sys_eq,   estimates,   jx,   y_matrix,   forecast_x_matrix,   horizon,   freq,   forecast_dates,   restrictions,   state,   conditional_innov_method = \"projection\",   central_tendency = NULL )"},{"path":"https://timothymerlin.github.io/koma/reference/forecast_draw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a Forecast for a Single Draw — forecast_draw","text":"sys_eq koma_seq object (system_of_equations) containing details system equations used model. estimates List parameter estimates system. y_matrix Matrix dependent variable time series data. forecast_x_matrix matrix forecasting data exogenous variables. horizon Forecasting horizon, specifying number periods. freq Frequency time series data. forecast_dates List containing 'start' 'end' dates forecast. restrictions List model constraints. Default empty. state environment used share mutable state function calls, particularly issuing warnings forecasting process.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_sem.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Forecasts for a System of Equations — forecast_sem","title":"Generate Forecasts for a System of Equations — forecast_sem","text":"function performs forecasting based provided system equations, estimates, parameters. supports density point forecasting.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_sem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Forecasts for a System of Equations — forecast_sem","text":"","code":"forecast_sem(   sys_eq,   estimates,   restrictions,   y_matrix,   forecast_x_matrix,   horizon,   freq,   forecast_dates,   approximate,   probs,   conditional_innov_method = \"projection\" )"},{"path":"https://timothymerlin.github.io/koma/reference/forecast_sem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Forecasts for a System of Equations — forecast_sem","text":"sys_eq koma_seq object (system_of_equations) containing details system equations used model. estimates List parameter estimates system. restrictions List model constraints. Default empty. y_matrix Matrix dependent variable time series data. forecast_x_matrix matrix forecasting data exogenous variables. horizon Forecasting horizon, specifying number periods. freq Frequency time series data. forecast_dates List containing 'start' 'end' dates forecast.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_sem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Forecasts for a System of Equations — forecast_sem","text":"list containing forecast values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Forecast Based on Companion Matrix and Reduced Form — forecast_values","title":"Compute Forecast Based on Companion Matrix and Reduced Form — forecast_values","text":"function calculates forecast given set parameters data. computes baseline forecasts applies certain restrictions specified.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Forecast Based on Companion Matrix and Reduced Form — forecast_values","text":"","code":"forecast_values(   posterior,   companion_matrix,   reduced_form,   y_matrix,   forecast_x_matrix,   horizon,   freq,   start_forecast,   endogenous_variables,   restrictions,   identities,   conditional_innov_method = \"projection\",   stochastic = FALSE )"},{"path":"https://timothymerlin.github.io/koma/reference/forecast_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Forecast Based on Companion Matrix and Reduced Form — forecast_values","text":"posterior list posterior system matrices construct_posterior() (e.g., gamma_matrix, sigma_matrix). companion_matrix list containing components companion matrix. reduced_form list containing reduced form components. y_matrix Matrix dependent variable time series data. forecast_x_matrix matrix forecasting data exogenous variables. horizon Forecasting horizon, specifying number periods. freq Frequency time series data. start_forecast vector format c(YEAR, QUARTER) representing start date forecast. endogenous_variables character vector containing names endogenous variables. restrictions List model constraints. Default empty. stochastic Logical; TRUE, returns stochastic forecast draw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/forecast_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Forecast Based on Companion Matrix and Reduced Form — forecast_values","text":"matrix base forecast Y.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format.koma_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Format System of Equations — format.koma_seq","title":"Format System of Equations — format.koma_seq","text":"function formats object class koma_seq better readability. formats equations ensure proper spacing around operators aligns equations cleaner display.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format.koma_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format System of Equations — format.koma_seq","text":"","code":"# S3 method for class 'koma_seq' format(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/format.koma_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format System of Equations — format.koma_seq","text":"x object class koma_seq. ... Additional arguments passed methods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format.koma_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format System of Equations — format.koma_seq","text":"character vector formatted equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format_ts_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Format ts Time Labels — format_ts_time","title":"Format ts Time Labels — format_ts_time","text":"quarterly data (frequency = 4), returns \"YYYY Qn\". monthly data (frequency = 12), returns \"YYYY-MM\". Otherwise, falls back numeric time values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format_ts_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format ts Time Labels — format_ts_time","text":"","code":"format_ts_time(x)"},{"path":"https://timothymerlin.github.io/koma/reference/format_ts_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format ts Time Labels — format_ts_time","text":"x ts object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/format_ts_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format ts Time Labels — format_ts_time","text":"character vector formatted time labels.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/gamma_vectorization.html","id":null,"dir":"Reference","previous_headings":"","what":"Vectorize Gamma Matrix — gamma_vectorization","title":"Vectorize Gamma Matrix — gamma_vectorization","text":"Converts character representation gamma matrix transformation matrix constant vector, vector = transformation_matrix %*% parameters + constant_vector vector = vec(character_gamma_matrix).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/gamma_vectorization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vectorize Gamma Matrix — gamma_vectorization","text":"","code":"gamma_vectorization(character_gamma_matrix, identity_weights)"},{"path":"https://timothymerlin.github.io/koma/reference/gamma_vectorization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vectorize Gamma Matrix — gamma_vectorization","text":"character_gamma_matrix character matrix representing gamma structure model. identity_weights list identity weights adjusting constant vectors.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/gamma_vectorization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vectorize Gamma Matrix — gamma_vectorization","text":"list three elements: transformation_matrix numeric matrix used parameter transformation. parameters character vector parameter names. constant_vector numeric vector constant terms.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/generate_sample_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Data for the Simultaneous Equations Model — generate_sample_data","title":"Generate Data for the Simultaneous Equations Model — generate_sample_data","text":"Compute Y X matrix (data) Use reduced form model compute Y \\(Y = X B \\Gamma^{-1} + U \\Gamma^{-1}\\)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/generate_sample_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Data for the Simultaneous Equations Model — generate_sample_data","text":"","code":"generate_sample_data(   sample_size,   sample_start,   burnin,   gamma_matrix,   beta_matrix,   sigma_matrix,   endogenous_variables,   exogenous_variables,   predetermined_variables )"},{"path":"https://timothymerlin.github.io/koma/reference/generate_sample_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Data for the Simultaneous Equations Model — generate_sample_data","text":"sample_size number observations. sample_start vector format c(YEAR, QUARTER) representing burnin number observations discard mitigate dependency starting values. gamma_matrix matrix defines relationships variables. beta_matrix matrix defines coefficients equation. sigma_matrix matrix defines standard deviation error terms. endogenous_variables vector endogenous variables. exogenous_variables vector exogenous variables. predetermined_variables vector predetermined variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/generate_sample_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Data for the Simultaneous Equations Model — generate_sample_data","text":"list containing three elements: y_matrix: dependent variable matrix newly generated data. x_matrix: matrix exogenous predetermined variables newly generated data. ts_data: list containing time series growth rates.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/generate_sample_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Data for the Simultaneous Equations Model — generate_sample_data","text":"creates sample data relationship variables determined defined parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_central_tendency.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Central Tendency Value from a Named List — get_central_tendency","title":"Get Central Tendency Value from a Named List — get_central_tendency","text":"function takes named list quantiles string central_tendency indicating central tendency measure (mean median) retrieve.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_central_tendency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Central Tendency Value from a Named List — get_central_tendency","text":"","code":"get_central_tendency(central_tendency, quantiles)"},{"path":"https://timothymerlin.github.io/koma/reference/get_central_tendency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Central Tendency Value from a Named List — get_central_tendency","text":"central_tendency string, either \"mean\" \"median\". quantiles named list containing central tendency values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_central_tendency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Central Tendency Value from a Named List — get_central_tendency","text":"central tendency value list quantiles based central_tendency argument.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_default_gibbs_spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Default Gibbs Specfications — get_default_gibbs_spec","title":"Default Gibbs Specfications — get_default_gibbs_spec","text":"Default Gibbs Specfications","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_default_gibbs_spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Default Gibbs Specfications — get_default_gibbs_spec","text":"","code":"get_default_gibbs_spec()"},{"path":"https://timothymerlin.github.io/koma/reference/get_default_gibbs_spec.html","id":"gibbs-sampler-specifications","dir":"Reference","previous_headings":"","what":"Gibbs Sampler Specifications","title":"Default Gibbs Specfications — get_default_gibbs_spec","text":"ndraws: Integer specifying number Gibbs sampler draws. Default 2000. burnin_ratio: Numeric specifying ratio burn-period. Default 0.5. nstore: Integer specifying frequency stored draws. Default 1. tau: Numeric tuning parameter enforcing acceptance rate. Default 1.1.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_endogenous_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get endogenous variables from a system of equations — get_endogenous_variables","title":"Get endogenous variables from a system of equations — get_endogenous_variables","text":"function takes system equations returns endogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_endogenous_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get endogenous variables from a system of equations — get_endogenous_variables","text":"","code":"get_endogenous_variables(equations)"},{"path":"https://timothymerlin.github.io/koma/reference/get_endogenous_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get endogenous variables from a system of equations — get_endogenous_variables","text":"equations character string containing system equations, equations separated commas.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_endogenous_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get endogenous variables from a system of equations — get_endogenous_variables","text":"character vector endogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_fan_pairs.html","id":null,"dir":"Reference","previous_headings":"","what":"Match Quantile Names into Symmetric Fan Pairs — get_fan_pairs","title":"Match Quantile Names into Symmetric Fan Pairs — get_fan_pairs","text":"Match Quantile Names Symmetric Fan Pairs","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_fan_pairs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match Quantile Names into Symmetric Fan Pairs — get_fan_pairs","text":"","code":"get_fan_pairs(quantile_names, fan_quantiles = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/get_fan_pairs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match Quantile Names into Symmetric Fan Pairs — get_fan_pairs","text":"quantile_names Character vector quantile names (e.g., \"q_5\"). fan_quantiles Numeric probabilities constrain pairing.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_fan_pairs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match Quantile Names into Symmetric Fan Pairs — get_fan_pairs","text":"list lower/upper quantile name pairs.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_identities.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract identities from equations — get_identities","title":"Extract identities from equations — get_identities","text":"function filters equations containing 'epsilon', extracts weights identities based character_gamma_matrix character_beta_matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_identities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract identities from equations — get_identities","text":"","code":"get_identities(equations, character_gamma_matrix, character_beta_matrix)"},{"path":"https://timothymerlin.github.io/koma/reference/get_identities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract identities from equations — get_identities","text":"equations character string containing system equations, equations separated commas. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations, potential entries like \"theta\", used weights extraction process. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations, potential entries like \"theta\", used weights extraction process. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_identities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract identities from equations — get_identities","text":"list identities extracted input equations. entry contains: equation: raw equation components: components extracted equation weights: corresponding weights component","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_lagged_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Lagged Values from Y Matrix — get_lagged_values","title":"Extract Lagged Values from Y Matrix — get_lagged_values","text":"function populates matrix containing predetermined variables, .e. lagged variables, lagged values contained Y matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_lagged_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Lagged Values from Y Matrix — get_lagged_values","text":"","code":"get_lagged_values(predetermined_matrix, y_matrix, tx)"},{"path":"https://timothymerlin.github.io/koma/reference/get_lagged_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Lagged Values from Y Matrix — get_lagged_values","text":"predetermined_matrix predetermined matrix populated lagged values. y_matrix y matrix containing original values. tx time index lagged values obtained.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_lagged_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Lagged Values from Y Matrix — get_lagged_values","text":"updated predetermined matrix lagged values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_max_lag.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine the maximum lag of variables — get_max_lag","title":"Determine the maximum lag of variables — get_max_lag","text":"function calculates maximum lag among set variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_max_lag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine the maximum lag of variables — get_max_lag","text":"","code":"get_max_lag(variable_names)"},{"path":"https://timothymerlin.github.io/koma/reference/get_max_lag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine the maximum lag of variables — get_max_lag","text":"variable_names character vector specifying names variables analyze.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_max_lag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine the maximum lag of variables — get_max_lag","text":"maximum lag among variables. lags detected NA returned.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_optimal_ticks.html","id":null,"dir":"Reference","previous_headings":"","what":"Find Optimal Ticks for y Axis — get_optimal_ticks","title":"Find Optimal Ticks for y Axis — get_optimal_ticks","text":"Find Optimal Ticks y Axis","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_optimal_ticks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find Optimal Ticks for y Axis — get_optimal_ticks","text":"","code":"get_optimal_ticks(df_long, x_range, whisker_data = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/get_optimal_ticks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find Optimal Ticks for y Axis — get_optimal_ticks","text":"df_long data frame long format includes 'data_type' column, contain types 'growth' 'level' categorizing data. x_range list x-axis range start end values format c(YEAR, QUARTER).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_optimal_ticks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find Optimal Ticks for y Axis — get_optimal_ticks","text":"list y1 (growth) values text, y2 (level) text extremas.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Parameter Names from Character Matrix — get_parameters","title":"Get Parameter Names from Character Matrix — get_parameters","text":"Extracts unique parameter names character matrix based given pattern (\"gamma\" \"beta\").","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Parameter Names from Character Matrix — get_parameters","text":"","code":"get_parameters(character_matrix, pattern)"},{"path":"https://timothymerlin.github.io/koma/reference/get_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Parameter Names from Character Matrix — get_parameters","text":"character_matrix character matrix extract parameters . pattern string pattern identify parameter names.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Parameter Names from Character Matrix — get_parameters","text":"character vector unique parameter names matching pattern.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_seq_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Get System of Equations Weights — get_seq_weights","title":"Get System of Equations Weights — get_seq_weights","text":"Calculates dynamic weights system equations updates identities weights. function processes list time series data (ts_data), list identities (identities), set dates (dates) compute update weights dynamically.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_seq_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get System of Equations Weights — get_seq_weights","text":"","code":"get_seq_weights(ts_data, identities, dates)"},{"path":"https://timothymerlin.github.io/koma/reference/get_seq_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get System of Equations Weights — get_seq_weights","text":"ts_data named list stats::ts objects. list contain time series data aggregate values components. identities named list identities, containing components respective weights. list include elements \"lhs_weight\" names. dates list start end dates dynamic weight calculations. dates list sub-list dynamic_weights start end entries, numeric representation date, format produced dates_to_num.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_seq_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get System of Equations Weights — get_seq_weights","text":"function updates identities list calculated dynamic weights returns nothing explicitly.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Variables from a System of Equations — get_variables","title":"Extract Variables from a System of Equations — get_variables","text":"function identifies extracts variable names set equations. removes whitespace splits equations common operators ~, ==, +, *, -. filters components represent numeric values, returning variable names.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Variables from a System of Equations — get_variables","text":"","code":"get_variables(equations)"},{"path":"https://timothymerlin.github.io/koma/reference/get_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Variables from a System of Equations — get_variables","text":"equations character vector containing equations extract variables .","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Variables from a System of Equations — get_variables","text":"list character vectors, vector contains variables single equation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weight_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Weight Names from Equations — get_weight_variables","title":"Extract Weight Names from Equations — get_weight_variables","text":"function takes vector equations extracts names variables appear within parentheses.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weight_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Weight Names from Equations — get_weight_variables","text":"","code":"get_weight_variables(equations)"},{"path":"https://timothymerlin.github.io/koma/reference/get_weight_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Weight Names from Equations — get_weight_variables","text":"equations character string vector containing system equations. single string, equations separated commas.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weight_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Weight Names from Equations — get_weight_variables","text":"character vector unique weight names appeared within parentheses input equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weights_and_comps.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Component Weights from an Equation — get_weights_and_comps","title":"Extract Component Weights from an Equation — get_weights_and_comps","text":"Given mathematical equation, function identifies individual components associated weights. components paired numeric value via *, numeric value considered weight. Otherwise, weight set NULL.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weights_and_comps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Component Weights from an Equation — get_weights_and_comps","text":"","code":"get_weights_and_comps(raw_eq, weights_list)"},{"path":"https://timothymerlin.github.io/koma/reference/get_weights_and_comps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Component Weights from an Equation — get_weights_and_comps","text":"raw_eq character string mathematical equation. equation expected format like \"lhs == rhs\", right-hand side (rhs) might contain components combined using '+' '-'. weights_list pre-constructed list containing character representations weights derived character_gamma_matrix character_beta_matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_weights_and_comps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Component Weights from an Equation — get_weights_and_comps","text":"list following elements: equation: original equation provided input. components: list components extracted rhs equation. weights: list weights, corresponding component. component explicit weight equation, weight NULL.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/get_x_ticks.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Tick Text and Values for a Plot — get_x_ticks","title":"Generate Tick Text and Values for a Plot — get_x_ticks","text":"function generates tick text values based provided data frame optional existing plot figure. tick text values specifically structured showcasing annual growth rates timeline.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_x_ticks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Tick Text and Values for a Plot — get_x_ticks","text":"","code":"get_x_ticks(df_long, fig = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/get_x_ticks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Tick Text and Values for a Plot — get_x_ticks","text":"df_long data frame long format, containing least columns data_type, color_code, value, dates. data frame row date data type, along corresponding value color code. fig optional existing plotly figure object new ticks added. provided, function integrate new tick text values existing ticks figure. Default NULL, indicating existing figure.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_x_ticks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Tick Text and Values for a Plot — get_x_ticks","text":"list containing two elements: ticktext tickvals. ticktext element character vector HTML formatted strings tick, showcasing year annual growth rate. tickvals element integer vector years corresponding tick.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_position_for_annotations.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Y Position for Annotations in a Figure — get_y_position_for_annotations","title":"Get Y Position for Annotations in a Figure — get_y_position_for_annotations","text":"Calculates y-axis position next annotation added figure based number existing annotations. function automates adjustment y-axis position annotations, ensuring placed without overlap starting base y position modifying according current count annotations within figure.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_position_for_annotations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Y Position for Annotations in a Figure — get_y_position_for_annotations","text":"","code":"get_y_position_for_annotations(fig)"},{"path":"https://timothymerlin.github.io/koma/reference/get_y_position_for_annotations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Y Position for Annotations in a Figure — get_y_position_for_annotations","text":"fig figure object potentially contains annotations within layout attributes. figure object adhere expected structure, including list layout attributes accessible via $x$layoutAttrs, element may may contain annotations list.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_position_for_annotations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Y Position for Annotations in a Figure — get_y_position_for_annotations","text":"Numeric value indicating y-axis position placing next annotation. position calculated based predefined base position, adjustments made existing annotation prevent overlap.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"function computes tick marks y-axes Plotly graph, ensuring gridlines align across multiple y-axes matching dtick ratios. adjusts maximum range axes based ratios align gridlines correctly.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"","code":"get_y_ticks(extremas, num_ticks, center_around)"},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"extremas list 'min' 'max' values y-axis. num_ticks desired number ticks y-axis. center_around numeric value center axis ranges.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"list dtick, min, max y-axis, adjusted alignment.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"function calculates tick mark spacing (dtick) ratios, adjusts axis ranges match largest dtick ratio, ensuring gridlines align across axes. avoids reducing axis range maximum prevent cutting data points.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/get_y_ticks.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate Y-Axis Tick Marks for Multiple Axes in Plotly — get_y_ticks","text":"Adapted methodology outlined Victor Bezak GitHub repository: https://github.com/VictorBezak/Plotly_Multi-Axes_Gridlines","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Intervals from Draws — hdi","title":"Highest Density Intervals from Draws — hdi","text":"Computes highest density intervals (HDIs) numeric sample. HDI defined shortest interval containing target probability mass.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Intervals from Draws — hdi","text":"","code":"hdi(x, ...)  # Default S3 method hdi(x, probs = c(0.5, 0.99), ...)"},{"path":"https://timothymerlin.github.io/koma/reference/hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Intervals from Draws — hdi","text":"x numeric vector draws. ... Unused. probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Intervals from Draws — hdi","text":"list class \"koma_hdi\" containing: intervals Named list matrices columns lower upper, one matrix per probs level. mode Sample median draws (used center reference). cutoff Named numeric vector NA values (defined HDI). mass Named numeric vector achieved mass level. probs Numeric vector target masses (0, 1].","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Intervals for koma_estimate Objects — hdi.koma_estimate","title":"Highest Density Intervals for koma_estimate Objects — hdi.koma_estimate","text":"Computes highest density intervals (HDIs) coefficient draws koma_estimate object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Intervals for koma_estimate Objects — hdi.koma_estimate","text":"","code":"# S3 method for class 'koma_estimate' hdi(x, variables = NULL, probs = c(0.5, 0.99), include_sigma = FALSE, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Intervals for koma_estimate Objects — hdi.koma_estimate","text":"x koma_estimate object. variables Optional character vector endogenous variables include. Defaults variables object$estimates. probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99). include_sigma Logical. TRUE, compute HDIs error variance parameter (omega). Default FALSE. ... Unused.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Intervals for koma_estimate Objects — hdi.koma_estimate","text":"list class c(\"koma_estimate_hdi\", \"koma_hdi\") containing HDI intervals per coefficient.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Intervals for koma_forecast Objects — hdi.koma_forecast","title":"Highest Density Intervals for koma_forecast Objects — hdi.koma_forecast","text":"Computes highest density intervals (HDIs) predictive draws koma_forecast object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Intervals for koma_forecast Objects — hdi.koma_forecast","text":"","code":"# S3 method for class 'koma_forecast' hdi(x, variables = NULL, probs = c(0.5, 0.99), ...)"},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Intervals for koma_forecast Objects — hdi.koma_forecast","text":"x koma_forecast object. variables Optional character vector endogenous variables include. Defaults variables x$forecasts. probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99). ... Unused.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdi.koma_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Intervals for koma_forecast Objects — hdi.koma_forecast","text":"list class c(\"koma_forecast_hdi\", \"koma_hdi\") containing HDI intervals per variable horizon, along per-horizon centers achieved masses.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Regions from a Kernel Density Estimate — hdr","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"Computes highest density regions (HDRs) numeric sample using kernel density estimate. multimodal densities, HDR can consist multiple disjoint intervals.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"","code":"hdr(x, ...)  # Default S3 method hdr(   x,   probs = c(0.5, 0.99),   n_grid = 4096,   integration = c(\"monte_carlo\", \"grid\"),   mc_use_observed = FALSE,   mc_draws = NULL,   mc_quantile_type = 7,   bw = \"nrd0\",   adjust = 1,   kernel = \"gaussian\",   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"x numeric vector draws. ... Additional arguments forwarded density. pass n, bw, adjust, kernel . probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99). n_grid Number grid points KDE. Default 4096. integration Integration approach HDR cutoff. Use \"grid\" grid-based integration \"monte_carlo\" Monte Carlo integration. Default \"monte_carlo\". mc_use_observed Logical. TRUE, Monte Carlo integration uses observed draws. can reasonable approximation large x. FALSE, draws sampled KDE mixture; implemented kernel = \"gaussian\". mc_draws Optional integer number draws Monte Carlo sampling mc_use_observed = FALSE. Defaults max(length(x), 2000). mc_quantile_type Quantile type passed stats::quantile Monte Carlo cutoff. Type 1 matches order-statistic construction Hyndman (1996), type 7 (default) interpolates adjacent order statistics smoother, lower-variance cutoff asymptotically equivalent. Default 7. bw Bandwidth density. Default \"nrd0\". adjust Bandwidth adjustment factor density. Default 1. kernel Kernel density. Default \"gaussian\".","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"list class \"koma_hdr\" containing: intervals Named list matrices columns lower upper, one matrix per probs level. mode Location KDE mode. density density object returned stats::density. cutoff Named numeric vector density cutoffs level. mass Named numeric vector achieved mass level. integration = \"grid\", area KDE cutoff (grid-based). integration = \"monte_carlo\", Monte Carlo coverage, .e. fraction sampled points density cutoff. probs Numeric vector target masses (0, 1].","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"Monte Carlo integration option follows approach described Hyndman (1996) computing HDRs estimated density.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Highest Density Regions from a Kernel Density Estimate — hdr","text":"Hyndman, R. J. (1996). Computing graphing highest density regions. American Statistician, 50(2), 120–126. doi:10.2307/2684423","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Regions for koma_estimate Objects — hdr.koma_estimate","title":"Highest Density Regions for koma_estimate Objects — hdr.koma_estimate","text":"Computes highest density regions (HDRs) coefficient draws koma_estimate object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Regions for koma_estimate Objects — hdr.koma_estimate","text":"","code":"# S3 method for class 'koma_estimate' hdr(   x,   variables = NULL,   probs = c(0.5, 0.99),   n_grid = 4096,   integration = c(\"monte_carlo\", \"grid\"),   mc_use_observed = FALSE,   mc_draws = NULL,   mc_quantile_type = 7,   bw = \"nrd0\",   adjust = 1,   kernel = \"gaussian\",   include_sigma = FALSE,   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Regions for koma_estimate Objects — hdr.koma_estimate","text":"x koma_estimate object. variables Optional character vector endogenous variables include. Defaults variables object$estimates. probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99). n_grid Number grid points KDE. Default 4096. integration Integration approach HDR cutoff. Use \"grid\" grid-based integration \"monte_carlo\" Monte Carlo integration. Default \"monte_carlo\". mc_use_observed Logical. TRUE, Monte Carlo integration uses observed draws. can reasonable approximation large x. FALSE, draws sampled KDE mixture; implemented kernel = \"gaussian\". mc_draws Optional integer number draws Monte Carlo sampling mc_use_observed = FALSE. Defaults max(length(x), 2000). mc_quantile_type Quantile type passed stats::quantile Monte Carlo cutoff. Type 1 matches order-statistic construction Hyndman (1996), type 7 (default) interpolates adjacent order statistics smoother, lower-variance cutoff asymptotically equivalent. Default 7. bw Bandwidth density. Default \"nrd0\". adjust Bandwidth adjustment factor density. Default 1. kernel Kernel density. Default \"gaussian\". include_sigma Logical. TRUE, compute HDRs error variance parameter (omega). Default FALSE. ... Additional arguments forwarded density.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Regions for koma_estimate Objects — hdr.koma_estimate","text":"list class c(\"koma_estimate_hdr\", \"koma_hdr\") containing HDR intervals per coefficient. object also includes outliers list draws outside largest HDR level.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Highest Density Regions for koma_forecast Objects — hdr.koma_forecast","title":"Highest Density Regions for koma_forecast Objects — hdr.koma_forecast","text":"Computes highest density regions (HDRs) predictive draws koma_forecast object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Highest Density Regions for koma_forecast Objects — hdr.koma_forecast","text":"","code":"# S3 method for class 'koma_forecast' hdr(   x,   variables = NULL,   probs = c(0.5, 0.99),   n_grid = 4096,   integration = c(\"monte_carlo\", \"grid\"),   mc_use_observed = FALSE,   mc_draws = NULL,   mc_quantile_type = 7,   bw = \"nrd0\",   adjust = 1,   kernel = \"gaussian\",   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Highest Density Regions for koma_forecast Objects — hdr.koma_forecast","text":"x koma_forecast object. variables Optional character vector endogenous variables include. Defaults variables x$forecasts. probs Numeric vector target mass levels. Values \\((0, 1]\\) \\([0, 100]\\) accepted. Default c(0.5, 0.99). n_grid Number grid points KDE. Default 4096. integration Integration approach HDR cutoff. Use \"grid\" grid-based integration \"monte_carlo\" Monte Carlo integration. Default \"monte_carlo\". mc_use_observed Logical. TRUE, Monte Carlo integration uses observed draws. can reasonable approximation large x. FALSE, draws sampled KDE mixture; implemented kernel = \"gaussian\". mc_draws Optional integer number draws Monte Carlo sampling mc_use_observed = FALSE. Defaults max(length(x), 2000). mc_quantile_type Quantile type passed stats::quantile Monte Carlo cutoff. Type 1 matches order-statistic construction Hyndman (1996), type 7 (default) interpolates adjacent order statistics smoother, lower-variance cutoff asymptotically equivalent. Default 7. bw Bandwidth density. Default \"nrd0\". adjust Bandwidth adjustment factor density. Default 1. kernel Kernel density. Default \"gaussian\". ... Additional arguments forwarded density. pass n, bw, adjust, kernel .","code":""},{"path":"https://timothymerlin.github.io/koma/reference/hdr.koma_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Highest Density Regions for koma_forecast Objects — hdr.koma_forecast","text":"list class c(\"koma_forecast_hdr\", \"koma_hdr\") containing HDR intervals per variable horizon. object also includes per-horizon modes, cutoff levels, achieved masses.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/init_koma_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Initiate Default Theme — init_koma_theme","title":"Initiate Default Theme — init_koma_theme","text":"Initiate default theme used plot forecasts.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/init_koma_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initiate Default Theme — init_koma_theme","text":"","code":"init_koma_theme(   index = list(start = NULL, end = NULL),   title = list(font = NULL, text = NULL),   font = NULL,   trace_name = NULL,   xaxis = list(tickfont = NULL, range = list(start = NULL, end = NULL)),   yaxis = list(y = list(title = list(text = \"QoQ, in %\"), tick_center = 0), y2 =     list(title = list(text = \"Level\"), tick_center = 100), tickfont = NULL, number_ticks     = 5),   legend = list(font = NULL),   color = list(marker = list(in_sample = \"rgba(111,111,111,0.6)\", forecast =     \"rgba(33,92,175,1)\"), bar_textfont = list(in_sample = \"black\", forecast = \"white\")) )"},{"path":"https://timothymerlin.github.io/koma/reference/init_koma_theme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initiate Default Theme — init_koma_theme","text":"index Optional list two elements: start end. dates used anchor time series data. Dates format: c(YEAR, QUARTER). title list specify title options. Default NULL. text: Sets plot's title. provided, variable name displayed. font: Sets plot title font. font Sets global font. Note fonts used traces layout components inherit global font. trace_name Optional list specify naming traces. provided, names generated based start date forecasts. instance, forecast starts 2023-Q1, default name in_sample_growth \"2023-Q1 Data (Growth Rate)\", similarly traces. list can four elements: in_sample_growth: Naming -sample growth data traces. in_sample_level: Naming -sample level data traces. forecast_growth: Naming forecast growth data traces. forecast_level: Naming forecast level data traces. xaxis list custom labels x-axis. range: Sets range axis. List start end. tickfont: Sets axis' tick font, including tickfont annual growth rates. yaxis list custom labels y-axes y (left) y2 (right). y: list custom labels y-axis. title: Label left y-axis, defaults \"QoQ, %\" (quarter quarter). tick_center: Value center ticks around, defaults 0. y2: list custom labels y-axis. title: Label left y-axis, defaults \"Level\". tick_center: Value center ticks around, defaults 100. tickfont: Sets axis' tick font. number_ticks: Integer desired number ticks y-axis. legend list specify legend options. font: Sets legend font. color list containing color options different elements plot. working RGBA colors, alpha value ('' RGBA) determines transparency color, ranging 0 (fully transparent) 1 (fully opaque). marker: list specifying colors different traces. in_sample: Color -sample data traces. forecast: Color forecast traces. bar_textfont: list specifying text color different bars. in_sample: Text color -sample data bars. forecast: Text color forecast data bars.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initial_omega_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute initial omega for the jth equation — initial_omega_j","title":"Compute initial omega for the jth equation — initial_omega_j","text":"initial_omega_j computes OLS quantity initial omega_j using initialized gamma_j'","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initial_omega_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute initial omega for the jth equation — initial_omega_j","text":"","code":"initial_omega_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw )"},{"path":"https://timothymerlin.github.io/koma/reference/initial_omega_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute initial omega for the jth equation — initial_omega_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initial_omega_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute initial omega for the jth equation — initial_omega_j","text":"function returns evaluation target function, used decide whether accept reject proposed states MH algorithm. Returns NA gamma parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize the sampler — initialize_sampler","title":"Initialize the sampler — initialize_sampler","text":"initialize_sampler initializes sampler Metropolis Hastings algorithm. obtains initial \\(gamma\\) parameters numerically maximizing target function. calculates Cholesky factor \\(L\\) inverse Hessian \\(M^{-1}\\) target function. Cholesky factor, along gamma parameter equation \\(j\\), returned. Cholesky factor used draw candidate gamma MH algorithm.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize the sampler — initialize_sampler","text":"","code":"initialize_sampler(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx )"},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize the sampler — initialize_sampler","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize the sampler — initialize_sampler","text":"list containing initial parameters gamma (gamma_parameters_j) Cholesky factor inverse Hessian (cholesky_of_inverse_hessian) number_endogenous_in_j greater 0. , gamma_parameters_j parameter returned 0.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize the sampler — initialize_sampler_informative","title":"Initialize the sampler — initialize_sampler_informative","text":"initialize_sampler_informative initializes sampler Metropolis-Hastings algorithm. obtains initial \\(gamma\\) parameters numerically maximizing target function. calculates Cholesky factor \\(L\\) inverse Hessian \\(M^{-1}\\) target function. Cholesky factor, along gamma parameter equation \\(j\\), returned. Cholesky factor used draw candidate gamma MH algorithm.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize the sampler — initialize_sampler_informative","text":"","code":"initialize_sampler_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx )"},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialize the sampler — initialize_sampler_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/initialize_sampler_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize the sampler — initialize_sampler_informative","text":"list containing initial parameters gamma (gamma_jw) Cholesky factor inverse Hessian (cholesky_of_inverse_hessian) number_endogenous_in_j greater 0. , gamma_jw parameter returned 0.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/is_system_of_equations.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Object is a System of Equations — is_system_of_equations","title":"Check if Object is a System of Equations — is_system_of_equations","text":"function checks given object inherits class koma_seq, indicating represents system equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/is_system_of_equations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Object is a System of Equations — is_system_of_equations","text":"","code":"is_system_of_equations(x)"},{"path":"https://timothymerlin.github.io/koma/reference/is_system_of_equations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Object is a System of Equations — is_system_of_equations","text":"x object checked.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/is_system_of_equations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Object is a System of Equations — is_system_of_equations","text":"Logical. Returns TRUE object inherits class koma_seq, FALSE otherwise.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/iterate_n_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Periods to Numeric Date Representation — iterate_n_periods","title":"Add Periods to Numeric Date Representation — iterate_n_periods","text":"function iterates numeric date representation given number periods (e.g., years, quarters months). accepts date either vector format (year, period) numeric representation adds specified number periods .","code":""},{"path":"https://timothymerlin.github.io/koma/reference/iterate_n_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Periods to Numeric Date Representation — iterate_n_periods","text":"","code":"iterate_n_periods(x, n, frequency)"},{"path":"https://timothymerlin.github.io/koma/reference/iterate_n_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Periods to Numeric Date Representation — iterate_n_periods","text":"x numeric value 2-element vector (year, period). vector represent year period (e.g., quarter month). n number periods add. can positive negative. frequency numeric value indicating number periods year (e.g., 1, years, 4 quarters, 12 months).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/iterate_n_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Periods to Numeric Date Representation — iterate_n_periods","text":"numeric representation date adding periods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/klein.html","id":null,"dir":"Reference","previous_headings":"","what":"Klein macroeconomic time series (1970 Q1 onward) — klein","title":"Klein macroeconomic time series (1970 Q1 onward) — klein","text":"list U.S. macro series FRED (14 quarterly series).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/klein.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Klein macroeconomic time series (1970 Q1 onward) — klein","text":"","code":"klein"},{"path":"https://timothymerlin.github.io/koma/reference/klein.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Klein macroeconomic time series (1970 Q1 onward) — klein","text":"list 14 ts objects: gdp Real GDP (bil. 2017 USD, SAAR; FRED: GDPC1) consumption Real PCE (bil. 2017 USD, SAAR; FRED: PCECC96) investment Real private investment (bil. 2017 USD, SAAR; FRED: GPDIC1) government Real government spending (bil. 2017 USD, SAAR; FRED: GCEC1) net_exports Real net exports (bil. 2017 USD, SAAR; FRED: NETEXC) n_gdp Nominal GDP (bil. USD, SAAR; FRED: GDP) n_consumption Nominal PCE (bil. USD, SAAR; FRED: PCEC) n_investment Nominal private investment (bil. USD, SAAR; FRED: GPDI) n_government Nominal government spending (bil. USD, SAAR; FRED: GCE) n_profits Nominal profits tax (bil. USD, SAAR; FRED: CP) n_wages Nominal private wages & salaries (bil. USD; FRED: A132RC1Q027SBEA) n_government_wages Nominal government wages & salaries (bil. USD; FRED: B202RC1Q027SBEA) n_taxes Nominal fed tax receipts (bil. USD; FRED: W007RC1Q027SBEA) gdp_deflator GDP implicit price deflator (2017=100, SAAR; FRED: GDPDEF)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/klein.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Klein macroeconomic time series (1970 Q1 onward) — klein","text":"https://fred.stlouisfed.org/","code":""},{"path":"https://timothymerlin.github.io/koma/reference/koma.html","id":null,"dir":"Reference","previous_headings":"","what":"koma: Large Scale Macroeconomic Model — koma","title":"koma: Large Scale Macroeconomic Model — koma","text":"Tools estimating forecasting large-scale macroeconomic models, including extended time series utilities used throughout package.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/koma.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"koma: Large Scale Macroeconomic Model — koma","text":"Maintainer: Merlin Scherer scherer@kof.ethz.ch (ORCID) Authors: Samad Sarferaz sarferaz@kof.ethz.ch [copyright holder] Laurent Florin florin@kof.ethz.ch","code":""},{"path":"https://timothymerlin.github.io/koma/reference/koma_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Extended Time-Series Object — koma_ts","title":"Extended Time-Series Object — koma_ts","text":"function ets used create extended time-series (ets) object. additional attribute passed saved ets. as_ets is_ets coerce object time- series test whether object time series class koma_ts.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/koma_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extended Time-Series Object — koma_ts","text":"","code":"ets(   data = NA,   start = NULL,   end = NULL,   frequency = NULL,   deltat = NULL,   ts.eps = getOption(\"ts.eps\"),   ... )  as_ets(x = stats::ts(), ...)  is_ets(x)"},{"path":"https://timothymerlin.github.io/koma/reference/koma_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extended Time-Series Object — koma_ts","text":"data vector matrix observed time-series     values. data frame coerced numeric matrix via     data.matrix.  (See also ‘Details’.) start time first observation.  Either single     number vector two numbers (second integer),     specify natural time     unit (1-based) number samples time unit.  See     examples use second form. end time last observation, specified way     start. frequency number observations per unit time. deltat fraction sampling period successive     observations; e.g., 1/12 monthly data.  one     frequency deltat provided. ts.eps time series comparison tolerance.  Frequencies     considered equal absolute difference less     ts.eps. ... Additional attributes. x object coerced / checked.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/koma_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extended Time-Series Object — koma_ts","text":"koma_ts object. koma_ts object. TRUE object class koma_ts, otherwise FALSE.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/level.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the level for a time series — level","title":"Compute the level for a time series — level","text":"Required attributes input time series : series_type - \"rate\" \"level\" method - \"percentage\", \"diff_log\", \"none\", expression","code":""},{"path":"https://timothymerlin.github.io/koma/reference/level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the level for a time series — level","text":"","code":"level(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the level for a time series — level","text":"x time series object. Supported classes ts ets (subclass ts). ... arguments passed methods (unused default method).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the level for a time series — level","text":"ets object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/level.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the level for a time series — level","text":"","code":"x <- ets(c(0.3, 0.1, 0.2, -0.1), series_type = \"rate\", method = \"percentage\") level(x) #> level, percentage #> Time Series: #> Start = 0  #> End = 4  #> Frequency = 1  #> [1] 100.0000 100.3000 100.4003 100.6011 100.5005"},{"path":"https://timothymerlin.github.io/koma/reference/model_evaluation.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","title":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","text":"Computes Root Mean Square Error (RMSE) model given prediction horizon, incrementing -sample data quarter calculation specified horizon equals end date forecast period.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_evaluation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","text":"","code":"model_evaluation(   sys_eq,   variables,   horizon,   ts_data,   dates,   ...,   evaluate_on_levels = TRUE,   options = list(gibbs = list(), summary = \"mean\", approximate = FALSE),   restrictions = NULL )"},{"path":"https://timothymerlin.github.io/koma/reference/model_evaluation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","text":"sys_eq koma_seq object (system_of_equations) containing details system equations used model. variables character vector name(s) stochastic endogenous variable forecast error(s) calculated. NULL calculated variables. horizon forecast horizon quarters RMSE calculated. ts_data time series data set, must include data end date forecasting period. dates Key-value list date ranges various model operations. ... Additional parameters. evaluate_on_levels Boolean, TRUE RMSE calculated levels FALSE growth rates. options Optional settings model evaluation. Use list(gibbs = list(), summary = \"mean\", approximate = FALSE). Elements: gibbs: Gibbs sampler settings (see Gibbs Sampler Specifications). summary: \"mean\" \"median\" point forecast used RMSE. approximate: Logical; TRUE, use fast approximate point forecast (mean/median coefficient draws). restrictions List model constraints. Default empty.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_evaluation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","text":"DataFrame containing RMSE selected Variables desired horizon.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_evaluation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Out-of-Sample RMSE for a Specified Horizon — model_evaluation","text":"function initiates RMSE calculation dates$forecast$start continues dates$forecast$start + horizon equals dates$forecast$end. iteration, quarter added -sample data dates$forecast$start.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_identification.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify Model Parameters from Character Matrices — model_identification","title":"Identify Model Parameters from Character Matrices — model_identification","text":"function calculates gamma beta matrices based given character gamma beta matrices, along identity weights. checks identification stochastic equations verifies order rank conditions model identification.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_identification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify Model Parameters from Character Matrices — model_identification","text":"","code":"model_identification(   character_gamma_matrix,   character_beta_matrix,   identity_weights,   call = rlang::caller_env() )"},{"path":"https://timothymerlin.github.io/koma/reference/model_identification.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify Model Parameters from Character Matrices — model_identification","text":"character_gamma_matrix character matrix representing gamma structure model. character_beta_matrix character matrix representing beta structure model. identity_weights list identity weights help construct constant vectors. call environment error called. Defaults rlang::caller_env(), used provide context case error.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/model_identification.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify Model Parameters from Character Matrices — model_identification","text":"NULL. function used side effects, stopping execution model identification conditions met.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate from a Multivariate Normal Distribution — multivariate_norm","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"Produces one samples specified multivariate normal distribution.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"","code":"multivariate_norm(n = 1, mu, sigma, tol = 1e-06, empirical = FALSE)"},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"n number samples required. mu vector giving means variables. sigma positive-definite symmetric matrix specifying covariance matrix variables. tol Tolerance (relative largest variance) numerical lack positive-definiteness sigma. empirical Logical. true, mu sigma specify empirical population mean covariance matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"n = 1 vector length mu, otherwise n length(mu) matrix one sample row.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"matrix decomposition done vai eigen; although Choleski decomposition might faster, eigendecomposition stabler.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"Venables, W. N. & Ripley, B. D. (2002) Modern Applied Statistics S.  Fourth Edition. Springer, New York. ISBN 0-387-95457-0","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate from a Multivariate Normal Distribution — multivariate_norm","text":"","code":"#' if (FALSE) { # \\dontrun{ sigma <- matrix(c(10, 3, 3, 2), 2, 2) sigma var(multivariate_norm(n = 1000, rep(0, 2), sigma)) var(multivariate_norm(n = 1000, rep(0, 2), sigma, empirical = TRUE)) } # }"},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm_pdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate Multivariate Normal Density at x — multivariate_norm_pdf","title":"Evaluate Multivariate Normal Density at x — multivariate_norm_pdf","text":"Evaluate Multivariate Normal Density x","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm_pdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate Multivariate Normal Density at x — multivariate_norm_pdf","text":"","code":"multivariate_norm_pdf(x, mu, sigma)"},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm_pdf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate Multivariate Normal Density at x — multivariate_norm_pdf","text":"x vector evaluate density. mu vector giving means variables. sigma positive-definite symmetric matrix specifying covariance matrix variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/multivariate_norm_pdf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate Multivariate Normal Density at x — multivariate_norm_pdf","text":"density multivariate normal distribution x.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_coef_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize Coefficient Names — normalize_coef_names","title":"Normalize Coefficient Names — normalize_coef_names","text":"Internal helper aligns coefficient names number matrix rows.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_coef_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize Coefficient Names — normalize_coef_names","text":"","code":"normalize_coef_names(coef_names, n_coef)"},{"path":"https://timothymerlin.github.io/koma/reference/normalize_coef_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize Coefficient Names — normalize_coef_names","text":"coef_names Character vector coefficient names. n_coef Integer number coefficients (rows).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_coef_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize Coefficient Names — normalize_coef_names","text":"character vector length n_coef.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_quantile_probs.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize Quantile Probabilities — normalize_quantile_probs","title":"Normalize Quantile Probabilities — normalize_quantile_probs","text":"Normalize Quantile Probabilities","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_quantile_probs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize Quantile Probabilities — normalize_quantile_probs","text":"","code":"normalize_quantile_probs(fan_quantiles)"},{"path":"https://timothymerlin.github.io/koma/reference/normalize_quantile_probs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize Quantile Probabilities — normalize_quantile_probs","text":"fan_quantiles Numeric probabilities (0, 1] percentages [0, 100].","code":""},{"path":"https://timothymerlin.github.io/koma/reference/normalize_quantile_probs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize Quantile Probabilities — normalize_quantile_probs","text":"numeric vector probabilities (0, 1].","code":""},{"path":"https://timothymerlin.github.io/koma/reference/num_to_dates.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Numeric to Date Format — num_to_dates","title":"Convert Numeric to Date Format — num_to_dates","text":"function converts numeric representation date back vector list vectors year period (e.g., quarter month). function supports input single numeric value, list numeric values. numeric representation match format produced dates_to_num.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/num_to_dates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Numeric to Date Format — num_to_dates","text":"","code":"num_to_dates(x, frequency, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/num_to_dates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Numeric to Date Format — num_to_dates","text":"x numeric value list numeric values representing date(s). x single numeric value, format produced dates_to_num. frequency numeric value indicating number periods year (e.g., 1 years, 4 quarters, 12 months). ... Additional arguments passed methods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/num_to_dates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Numeric to Date Format — num_to_dates","text":"numeric vector length 2 (year, period) list vectors.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_lags.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse Lagged Variables in Equation Strings — parse_lags","title":"Parse Lagged Variables in Equation Strings — parse_lags","text":"Identifies standardizes lagged variable references system equations. Supports var.L(lag) lag(var, lag) notation. function processes equation, detects lag patterns, rewrites unified form. returns modified equations list unique lagged variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_lags.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse Lagged Variables in Equation Strings — parse_lags","text":"","code":"parse_lags(equations)"},{"path":"https://timothymerlin.github.io/koma/reference/parse_lags.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse Lagged Variables in Equation Strings — parse_lags","text":"equations character vector equation strings.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_lags.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse Lagged Variables in Equation Strings — parse_lags","text":"list components: variables sorted character vector unique lagged variables. equations character vector equations standardized lags.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_quantile_name.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse Quantile Names into Probabilities — parse_quantile_name","title":"Parse Quantile Names into Probabilities — parse_quantile_name","text":"Parse Quantile Names Probabilities","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_quantile_name.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse Quantile Names into Probabilities — parse_quantile_name","text":"","code":"parse_quantile_name(name)"},{"path":"https://timothymerlin.github.io/koma/reference/parse_quantile_name.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse Quantile Names into Probabilities — parse_quantile_name","text":"name quantile name like \"q_5\" numeric string.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/parse_quantile_name.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse Quantile Names into Probabilities — parse_quantile_name","text":"probability (0, 1] NA_real_ failure.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_estimate_hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","title":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","text":"Plot HDR intervals coefficients koma_estimate_hdr object. Outliers beyond outer HDR shown available object. plot requires HDR levels matching box_levels present object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_estimate_hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","text":"","code":"# S3 method for class 'koma_estimate_hdr' plot(x, y = NULL, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_estimate_hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","text":"x koma_estimate_hdr object. y Ignored. Included compatibility generic function. ... Additional arguments controlling plot. See Details.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_estimate_hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","text":"ggplot object, plotly object interactive = TRUE plotly available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_estimate_hdr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot HDRs for koma_estimate Objects — plot.koma_estimate_hdr","text":"Additional arguments supported ...: variables Optional character vector endogenous variables plot. params Optional character vector parameter groups plot (e.g., \"beta\", \"gamma\", \"sigma\"). box_levels Optional numeric probabilities (0, 1] (\\([0, 100]\\)) defining inner outer HDRs. default, uses available HDR levels closest 50% maximum probability. interactive Logical. TRUE plotly available, return interactive plot via plotly::ggplotly. Default FALSE.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot koma Forecasts — plot.koma_forecast","title":"Plot koma Forecasts — plot.koma_forecast","text":"Plot koma forecasts","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot koma Forecasts — plot.koma_forecast","text":"","code":"# S3 method for class 'koma_forecast' plot(x, y = NULL, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot koma Forecasts — plot.koma_forecast","text":"x koma_forecast object (forecast). y Ignored. Included compatibility generic function. ... Additional parameters: variables vector variable names plot. fig Optional. Plotly figure object. Default NULL. theme Optional. theme plot. Default NULL. fan Optional. Logical. TRUE, add fan chart quantiles. fan_quantiles Optional. Numeric probabilities (0, 1] (percentages [0, 100]) define fan-chart bands. Default uses available quantiles. central_tendency Optional. string specifying type forecast print. Can \"mean\", \"median\", quantile name like \"q_5\", \"q_50\", \"q_95\". Default \"mean\" available, otherwise \"median\", specified quantile.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plot.koma_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot koma Forecasts — plot.koma_forecast","text":"Plotly figure object displaying data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plotli.html","id":null,"dir":"Reference","previous_headings":"","what":"Plotting Function — plotli","title":"Plotting Function — plotli","text":"function processes data creates plot using Plotly theme provided.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plotli.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plotting Function — plotli","text":"","code":"plotli(   df_long,   fig = NULL,   theme = NULL,   fan_data = NULL,   whisker_data = NULL,   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/plotli.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plotting Function — plotli","text":"df_long data frame long format, containing data plotted. fig Optional. Plotly figure object update, otherwise creates new one. theme List default plot output parameters. Defaults NULL, leads init_koma_theme called. Please see vignette details tweaking themes. ... Directly pass additional arguments plotly::layout. documentation, see https://plotly.com/r/reference/#Layout_and_layout_style_objects","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plotli.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plotting Function — plotli","text":"Plotly figure object displaying data specified formatting.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/plotli.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Plotting Function — plotli","text":"https://plotly.com/r/reference/#Layout_and_layout_style_objects","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_data_to_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data for Plotting — prepare_data_to_plot","title":"Prepare Data for Plotting — prepare_data_to_plot","text":"function prepares time series data converting data wide long format.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_data_to_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data for Plotting — prepare_data_to_plot","text":"","code":"prepare_data_to_plot(mts_list, start)"},{"path":"https://timothymerlin.github.io/koma/reference/prepare_data_to_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data for Plotting — prepare_data_to_plot","text":"mts_list list named multivariate time series objects: growth, level / growth_annual. start numeric value representing forecast start date.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_data_to_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Data for Plotting — prepare_data_to_plot","text":"single tibble long format combining growth rates, annualized growth rates, level data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_draw_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Draw Matrix and Indices — prepare_draw_matrix","title":"Prepare Draw Matrix and Indices — prepare_draw_matrix","text":"Internal helper applies thinning, converts draw lists matrix, applies optional matrix transformation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_draw_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Draw Matrix and Indices — prepare_draw_matrix","text":"","code":"prepare_draw_matrix(draws, thin = 1L, mat_transform = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/prepare_draw_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Draw Matrix and Indices — prepare_draw_matrix","text":"draws list MCMC draws. thin Positive integer thinning interval. mat_transform Optional function transform draw matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/prepare_draw_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Draw Matrix and Indices — prepare_draw_matrix","text":"list elements mat (numeric matrix) draw_idx (integer vector), NULL draws available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for koma_estimate objects — print.koma_estimate","title":"Print method for koma_estimate objects — print.koma_estimate","text":"Provides concise, console-friendly overview estimated system.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for koma_estimate objects — print.koma_estimate","text":"","code":"# S3 method for class 'koma_estimate' print(   x,   ...,   variables = NULL,   central_tendency = \"mean\",   ci_low = 5,   ci_up = 95,   digits = 2 )"},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for koma_estimate objects — print.koma_estimate","text":"x koma_estimate object. ... Additional arguments forwarded formatting internals. variables Optional character vector endogenous variables print. Defaults variables. central_tendency Central tendency used summarizing estimates (e.g., \"mean\", \"median\"). Defaults \"mean\". ci_low Lower bound (percent) credible intervals. Defaults 5. ci_up Upper bound (percent) credible intervals. Defaults 95. digits Number digits print numeric values. Defaults 2.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for koma_estimate objects — print.koma_estimate","text":"Invisibly returns x printing.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for koma_forecast Objects — print.koma_forecast","title":"Print Method for koma_forecast Objects — print.koma_forecast","text":"function prints forecasts contained koma_forecast object multivariate time series (mts). Users can specify variables print select either mean forecast, median forecast, specific quantiles forecast distribution.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for koma_forecast Objects — print.koma_forecast","text":"","code":"# S3 method for class 'koma_forecast' print(x, ..., variables = NULL, central_tendency = NULL, digits = 4)"},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for koma_forecast Objects — print.koma_forecast","text":"x koma_forecast object. ... Additional parameters. variables Optional. character vector variable names print. Default NULL, prints forecasted variables. central_tendency Optional. string specifying type forecast print. Can \"mean\", \"median\", quantile name like \"q_5\", \"q_50\", \"q_95\". Default \"mean\" available, otherwise \"median\", specified quantile. digits Optional. Integer number decimal digits round printed output. Default 4.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_forecast.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print Method for koma_forecast Objects — print.koma_forecast","text":"function prints forecasts contained koma_forecast object. Users can choose print either mean forecast, median forecast, specific quantiles forecast distribution. variables specified, forecasts variables printed. central_tendency specified, function defaults printing mean forecast available, otherwise median forecast, specified quantile. Printing converts selected forecast list mts readability; underlying koma_forecast object remains list koma_ts.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for koma_hdi objects — print.koma_hdi","title":"Print method for koma_hdi objects — print.koma_hdi","text":"Delegates summary() console output.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for koma_hdi objects — print.koma_hdi","text":"","code":"# S3 method for class 'koma_hdi' print(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for koma_hdi objects — print.koma_hdi","text":"x koma_hdi object. ... Additional arguments forwarded summary.koma_hdi().","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for koma_hdi objects — print.koma_hdi","text":"Invisibly returns x.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for koma_hdr objects — print.koma_hdr","title":"Print method for koma_hdr objects — print.koma_hdr","text":"Delegates summary() console output.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for koma_hdr objects — print.koma_hdr","text":"","code":"# S3 method for class 'koma_hdr' print(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for koma_hdr objects — print.koma_hdr","text":"x koma_hdr object. ... Additional arguments forwarded summary.koma_hdr().","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for koma_hdr objects — print.koma_hdr","text":"Invisibly returns x.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Print System of Equations — print.koma_seq","title":"Print System of Equations — print.koma_seq","text":"function prints object class koma_seq ensure equations displayed readable format.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print System of Equations — print.koma_seq","text":"","code":"# S3 method for class 'koma_seq' print(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/print.koma_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print System of Equations — print.koma_seq","text":"x object class koma_seq. ... Additional arguments passed methods.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print_gibbs_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Display Current Gibbs Sampler Specifications — print_gibbs_settings","title":"Display Current Gibbs Sampler Specifications — print_gibbs_settings","text":"function prints current settings Gibbs sampler readable format. includes information number draws, burn-ratio, number saved draws, tuning parameter tau.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/print_gibbs_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display Current Gibbs Sampler Specifications — print_gibbs_settings","text":"","code":"print_gibbs_settings(global_settings)"},{"path":"https://timothymerlin.github.io/koma/reference/print_gibbs_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display Current Gibbs Sampler Specifications — print_gibbs_settings","text":"Prints formatted message current Gibbs sampler settings. function return values.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantile_names_from_probs.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Quantile Names from Probabilities — quantile_names_from_probs","title":"Build Quantile Names from Probabilities — quantile_names_from_probs","text":"Build Quantile Names Probabilities","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantile_names_from_probs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Quantile Names from Probabilities — quantile_names_from_probs","text":"","code":"quantile_names_from_probs(probs)"},{"path":"https://timothymerlin.github.io/koma/reference/quantile_names_from_probs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Quantile Names from Probabilities — quantile_names_from_probs","text":"probs Numeric probabilities.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantile_names_from_probs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Quantile Names from Probabilities — quantile_names_from_probs","text":"character vector quantile names.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_estimates.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Quantiles of Coefficients from Estimations — quantiles_from_estimates","title":"Compute Quantiles of Coefficients from Estimations — quantiles_from_estimates","text":"function takes results estimation process, typically stored data matrix array, computes specified quantiles. supports 1D, 2D, 3D data structures makes necessary adjustments calculations. multi-dimensional data, function performs percentile computation across column, retaining first column data 3D.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_estimates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Quantiles of Coefficients from Estimations — quantiles_from_estimates","text":"","code":"quantiles_from_estimates(data, include_mean = FALSE, probs = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_estimates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Quantiles of Coefficients from Estimations — quantiles_from_estimates","text":"data list array. multi-dimensional, either 2D 3D. include_mean Logical. TRUE, mean coefficients also computed returned along quantiles. Default FALSE. probs numerical vector specifying probabilities percentiles computed. Default obtained get_quantiles().","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_estimates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Quantiles of Coefficients from Estimations — quantiles_from_estimates","text":"named list computed percentiles coefficient. names prefixed \"q_\" suffixed percentile value multiplied 100 (e.g., \"q_5\", \"q_50\", \"q_95\"). include_mean TRUE, \"q_mean\" also included list.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_forecasts.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Quantiles from Multiple Forecast Matrices — quantiles_from_forecasts","title":"Calculate Quantiles from Multiple Forecast Matrices — quantiles_from_forecasts","text":"function calculates specified quantiles  variable-time combination across draws.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_forecasts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Quantiles from Multiple Forecast Matrices — quantiles_from_forecasts","text":"","code":"quantiles_from_forecasts(forecasts, freq, probs = NULL, include_mean = FALSE)"},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_forecasts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Quantiles from Multiple Forecast Matrices — quantiles_from_forecasts","text":"forecasts list matrices. matrix represent forecasts dimensions (rows columns) comparison. freq frequency data. probs numeric vector specifying quantiles compute. Default c(0.25, 0.5, 0.75, 1). include_mean Logical. TRUE, mean forecasts also computed returned along quantiles. Default FALSE.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/quantiles_from_forecasts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Quantiles from Multiple Forecast Matrices — quantiles_from_forecasts","text":"named list matrices, matrix corresponds original matrix forecasts. output matrix additional dimension corresponding computed quantiles, dimnames indicating quantile levels (e.g., \"q_25\" 25th percentile).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the rate of change for a time series — rate","title":"Compute the rate of change for a time series — rate","text":"Required attributes input time series : series_type - \"rate\" \"level\" method - \"percentage\", \"diff_log\", \"none\", expression","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the rate of change for a time series — rate","text":"","code":"rate(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the rate of change for a time series — rate","text":"x time series object. Supported classes ts ets (subclass ts). ... arguments passed methods (unused default method).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the rate of change for a time series — rate","text":"ets object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute the rate of change for a time series — rate","text":"","code":"x <- ets(1:10, series_type = \"level\", method = \"diff_log\") rate(x) #> rate, diff_log, c(1, 1) #> Time Series: #> Start = 2  #> End = 10  #> Frequency = 1  #> [1] 69.31472 40.54651 28.76821 22.31436 18.23216 15.41507 13.35314 11.77830 #> [9] 10.53605"},{"path":"https://timothymerlin.github.io/koma/reference/rebase.html","id":null,"dir":"Reference","previous_headings":"","what":"Rebase Time Series Data Relative to a Base Period — rebase","title":"Rebase Time Series Data Relative to a Base Period — rebase","text":"Calculates rebased time series using given date range base period. base period average set 100, values scaled accordingly.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rebase.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rebase Time Series Data Relative to a Base Period — rebase","text":"","code":"rebase(x, start, end, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/rebase.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rebase Time Series Data Relative to a Base Period — rebase","text":"x ets object. start time first observation.  Either single     number vector two numbers (second integer),     specify natural time     unit (1-based) number samples time unit.  See     examples use second form. end time last observation, specified way     start. ... arguments passed methods (unused default method).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rebase.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rebase Time Series Data Relative to a Base Period — rebase","text":"ets object level computed.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":null,"dir":"Reference","previous_headings":"","what":"Random Inverse-Wishart Draw — riwish","title":"Random Inverse-Wishart Draw — riwish","text":"Generates random draw Inverse-Wishart distribution.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random Inverse-Wishart Draw — riwish","text":"","code":"riwish(v, S)"},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random Inverse-Wishart Draw — riwish","text":"v Degrees freedom (scalar). Must >= dimension S. S Positive-definite scale matrix (p x p).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random Inverse-Wishart Draw — riwish","text":"single random draw (matrix) Inverse-Wishart distribution.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Random Inverse-Wishart Draw — riwish","text":"function adapted MCMCpack::riwish (Martin et al., 2011) GPL-3. Inverse-Wishart distribution commonly used prior covariance matrices.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/riwish.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Random Inverse-Wishart Draw — riwish","text":"Martin, R., Quinn, K., & Park, J. (2011). MCMCpack: Markov Chain Monte Carlo R. Journal Statistical Software, 42(9), 1-21.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Running Means for koma_estimate Objects — running_mean","title":"Running Means for koma_estimate Objects — running_mean","text":"Compute running means (cumulative averages) coefficient draws koma_estimate object. default, beta, gamma, sigma draws included available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Running Means for koma_estimate Objects — running_mean","text":"","code":"running_mean(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/running_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Running Means for koma_estimate Objects — running_mean","text":"x koma_estimate object. ... Additional arguments controlling output. See Details.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Running Means for koma_estimate Objects — running_mean","text":"data.frame columns draw, value, variable, param, coef, draw_position, in_grace_window, label.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Running Means for koma_estimate Objects — running_mean","text":"Additional arguments supported ...: variables Optional character vector endogenous variables include. params Optional character vector parameter groups include (e.g., \"beta\", \"gamma\", \"sigma\"). Defaults available. thin Optional integer thinning interval stored draws. Default 1 (thinning). max_draws Optional integer cap number draws returned. set, recent draws kept. grace_draws Optional integer number initial retained draws flag grace window convergence interpretation. NULL, defaults max(50, ceiling(0.1 * n_retained)) per series. Note: sigma values based omega_tilde_jw use variances (covariances) covariance draw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Running Mean Plots for koma_estimate Objects — running_mean_plot","title":"Running Mean Plots for koma_estimate Objects — running_mean_plot","text":"Visualize running means (cumulative averages) running_mean() light grey band grace-window region.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Running Mean Plots for koma_estimate Objects — running_mean_plot","text":"","code":"running_mean_plot(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/running_mean_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Running Mean Plots for koma_estimate Objects — running_mean_plot","text":"x koma_estimate object. ... Additional arguments controlling plot. See Details running_mean().","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Running Mean Plots for koma_estimate Objects — running_mean_plot","text":"ggplot object, plotly object interactive = TRUE plotly available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/running_mean_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Running Mean Plots for koma_estimate Objects — running_mean_plot","text":"Additional plot arguments ...: scales Facet scale option passed ggplot2::facet_wrap. Default \"free_y\". facet_ncol Optional integer number columns facets. interactive Logical. TRUE plotly available, return interactive plot via plotly::ggplotly. Default FALSE.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rwish.html","id":null,"dir":"Reference","previous_headings":"","what":"Random Wishart Draw — rwish","title":"Random Wishart Draw — rwish","text":"Generates random draw Wishart distribution. Adapted MCMCpack::rwish (Martin et al., 2011) GPL-3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rwish.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random Wishart Draw — rwish","text":"","code":"rwish(v, S)"},{"path":"https://timothymerlin.github.io/koma/reference/rwish.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random Wishart Draw — rwish","text":"v Degrees freedom (scalar). Must >= dimension S. S Positive-definite scale matrix (p x p).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rwish.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random Wishart Draw — rwish","text":"single random draw (matrix) Wishart distribution.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/rwish.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Random Wishart Draw — rwish","text":"Martin, R., Quinn, K., & Park, J. (2011). MCMCpack: Markov Chain Monte Carlo R. Journal Statistical Software, 42(9), 1-21.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_alpha.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Alpha Channel for RGB/RGBA Colors — set_alpha","title":"Update Alpha Channel for RGB/RGBA Colors — set_alpha","text":"Converts rgb/rgba strings rgba provided alpha value.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_alpha.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Alpha Channel for RGB/RGBA Colors — set_alpha","text":"","code":"set_alpha(color, alpha)"},{"path":"https://timothymerlin.github.io/koma/reference/set_alpha.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Alpha Channel for RGB/RGBA Colors — set_alpha","text":"color color string \"rgb(...)\" \"rgba(...)\" format. alpha Numeric alpha value [0, 1].","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_alpha.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Alpha Channel for RGB/RGBA Colors — set_alpha","text":"color string updated alpha.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Gibbs Settings — set_gibbs_settings","title":"Set Gibbs Settings — set_gibbs_settings","text":"Set Gibbs Settings","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Gibbs Settings — set_gibbs_settings","text":"","code":"set_gibbs_settings(settings, equation_settings, envir = the)"},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Gibbs Settings — set_gibbs_settings","text":"settings List system-wide/global settings. equation_settings List equation specific settings. envir Environment create gibbs_sampler . Defaults \"\".","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_spec.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Gibbs Sampler Specifications — set_gibbs_spec","title":"Set Gibbs Sampler Specifications — set_gibbs_spec","text":"class updates Gibbs sampler specifications global environment variable $gibbs_sampler.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_spec.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Gibbs Sampler Specifications — set_gibbs_spec","text":"","code":"set_gibbs_spec(   ndraws = NULL,   burnin_ratio = NULL,   nstore = NULL,   tau = NULL,   ... )"},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_spec.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Gibbs Sampler Specifications — set_gibbs_spec","text":"ndraws Integer specifying number Gibbs sampler draws. burnin_ratio Numeric specifying ratio burn-period. nstore Integer specifying frequency stored draws. tau Numeric tuning parameter enforcing acceptance rate. ... Unused arguments get discarded.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_spec.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Gibbs Sampler Specifications — set_gibbs_spec","text":"Invisible NULL. function updates $gibbs_sampler place.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_gibbs_spec.html","id":"gibbs-sampler-specifications","dir":"Reference","previous_headings":"","what":"Gibbs Sampler Specifications","title":"Set Gibbs Sampler Specifications — set_gibbs_spec","text":"ndraws: Integer specifying number Gibbs sampler draws. Default 2000. burnin_ratio: Numeric specifying ratio burn-period. Default 0.5. nstore: Integer specifying frequency stored draws. Default 1. tau: Numeric tuning parameter enforcing acceptance rate. Default 1.1.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_restrictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Set Restrictions for Observed Variables in Time Series Data — set_restrictions","title":"Set Restrictions for Observed Variables in Time Series Data — set_restrictions","text":"function generates list restrictions specified variables time series data frame, based values specified start end dates.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_restrictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set Restrictions for Observed Variables in Time Series Data — set_restrictions","text":"","code":"set_restrictions(ts_data, variables_to_restrict, start, end)"},{"path":"https://timothymerlin.github.io/koma/reference/set_restrictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set Restrictions for Observed Variables in Time Series Data — set_restrictions","text":"ts_data list containing time series data. variables_to_restrict vector strings specifying names variables ts_data restricted. start starting date restrictions. end ending date restrictions.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/set_restrictions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set Restrictions for Observed Variables in Time Series Data — set_restrictions","text":"named list restrictions, names names variables variables_to_restrict. element list containing horizon, sequence 1 length value_at_date, value, truncated values variable start end.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/small_open_economy.html","id":null,"dir":"Reference","previous_headings":"","what":"Quarterly time series of key macro variables for a small open economy (Switzerland) — small_open_economy","title":"Quarterly time series of key macro variables for a small open economy (Switzerland) — small_open_economy","text":"Quarterly time series key macro variables small open economy (Switzerland)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/small_open_economy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quarterly time series of key macro variables for a small open economy (Switzerland) — small_open_economy","text":"","code":"small_open_economy"},{"path":"https://timothymerlin.github.io/koma/reference/small_open_economy.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Quarterly time series of key macro variables for a small open economy (Switzerland) — small_open_economy","text":"list 12 ts objects (quarterly): consumption Private consumption \\(C_t\\). investment Gross fixed capital formation \\(I_t\\). exports Exports \\(X_t\\). imports Imports \\(M_t\\). prices Price level \\(P_t\\). interest_rate Short‐term domestic interest rate \\(R_t\\). gdp Equilibrium output \\(GDP_t\\). domestic_demand Domestic demand \\(D_t\\). world_gdp World GDP (exogenous) \\(WGDP_t\\). interest_rate_germany German short‐term rate (exog) \\(R_{GE,t}\\). exchange_rate Nominal exchange rate (exog) \\(ER_t\\). oil_price Oil price (exogenous) \\(OP_t\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/small_open_economy.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Quarterly time series of key macro variables for a small open economy (Switzerland) — small_open_economy","text":"https://www.seco.admin.ch/, https://kof.ethz.ch/","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary method for koma_estimate objects — summary.koma_estimate","title":"Summary method for koma_estimate objects — summary.koma_estimate","text":"function provides summary koma_estimate objects. can return either texreg object ASCII table.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary method for koma_estimate objects — summary.koma_estimate","text":"","code":"# S3 method for class 'koma_estimate' summary(object, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary method for koma_estimate objects — summary.koma_estimate","text":"object koma_estimate object. ... Additional parameters: variables Optional. character vector variables summarize. Default NULL, means variables summarized. central_tendency Optional. string specifying measure central tendency (\"mean\", \"median\"). Default \"mean\". ci_low Optional. Lower bound confidence interval. Default 5. ci_up Optional. Upper bound confidence interval. Default 95. use_texreg Optional. TRUE, prints texreg summary available. Defaults TRUE texreg installed, otherwise FALSE. digits Optional. Number digits round numeric values. Default 2. Additional arguments forwarded texreg output helpers (example, arguments accepted texreg::screenreg()) use_texreg = TRUE.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary method for koma_estimate objects — summary.koma_estimate","text":"Returns list summary statistics variable (invisibly) use_texreg FALSE. use_texreg TRUE texreg installed, returns texreg extract object prints via screenreg() printed.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_estimate_hdi Objects — summary.koma_estimate_hdi","title":"Summary for koma_estimate_hdi Objects — summary.koma_estimate_hdi","text":"Prints HDI intervals coefficients table per equation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_estimate_hdi Objects — summary.koma_estimate_hdi","text":"","code":"# S3 method for class 'koma_estimate_hdi' summary(object, ..., variables = NULL, params = NULL, digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_estimate_hdi Objects — summary.koma_estimate_hdi","text":"object koma_estimate_hdi object. ... Unused. variables Optional character vector filter variables. params Optional character vector filter parameters (e.g., \"beta\", \"gamma\", \"sigma\"). digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_estimate_hdi Objects — summary.koma_estimate_hdi","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_estimate_hdr Objects — summary.koma_estimate_hdr","title":"Summary for koma_estimate_hdr Objects — summary.koma_estimate_hdr","text":"Prints HDR intervals coefficients table per equation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_estimate_hdr Objects — summary.koma_estimate_hdr","text":"","code":"# S3 method for class 'koma_estimate_hdr' summary(object, ..., variables = NULL, params = NULL, digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_estimate_hdr Objects — summary.koma_estimate_hdr","text":"object koma_estimate_hdr object. ... Unused. variables Optional character vector filter variables. params Optional character vector filter parameters (e.g., \"beta\", \"gamma\", \"sigma\"). digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_estimate_hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_estimate_hdr Objects — summary.koma_estimate_hdr","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_forecast Objects — summary.koma_forecast","title":"Summary for koma_forecast Objects — summary.koma_forecast","text":"Prints summary table forecast horizons, including available central tendencies (mean/median) quantiles.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_forecast Objects — summary.koma_forecast","text":"","code":"# S3 method for class 'koma_forecast' summary(object, ..., variables = NULL, horizon = NULL, digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_forecast Objects — summary.koma_forecast","text":"object koma_forecast object. ... Unused. variables Optional character vector filter variables. horizon Optional numeric character vector selecting forecast horizon. digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_forecast Objects — summary.koma_forecast","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_forecast_hdi Objects — summary.koma_forecast_hdi","title":"Summary for koma_forecast_hdi Objects — summary.koma_forecast_hdi","text":"Prints HDI intervals forecast horizons.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_forecast_hdi Objects — summary.koma_forecast_hdi","text":"","code":"# S3 method for class 'koma_forecast_hdi' summary(object, ..., variables = NULL, horizon = NULL, digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_forecast_hdi Objects — summary.koma_forecast_hdi","text":"object koma_forecast_hdi object. ... Unused. variables Optional character vector filter variables. horizon Optional numeric character vector selecting forecast horizon. digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_forecast_hdi Objects — summary.koma_forecast_hdi","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_forecast_hdr Objects — summary.koma_forecast_hdr","title":"Summary for koma_forecast_hdr Objects — summary.koma_forecast_hdr","text":"Prints HDR intervals forecast horizons.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_forecast_hdr Objects — summary.koma_forecast_hdr","text":"","code":"# S3 method for class 'koma_forecast_hdr' summary(object, ..., variables = NULL, horizon = NULL, digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_forecast_hdr Objects — summary.koma_forecast_hdr","text":"object koma_forecast_hdr object. ... Unused. variables Optional character vector filter variables. horizon Optional numeric character vector selecting forecast horizon. digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_forecast_hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_forecast_hdr Objects — summary.koma_forecast_hdr","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_hdi Objects — summary.koma_hdi","title":"Summary for koma_hdi Objects — summary.koma_hdi","text":"Prints HDI intervals single numeric sample.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_hdi Objects — summary.koma_hdi","text":"","code":"# S3 method for class 'koma_hdi' summary(object, ..., digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_hdi Objects — summary.koma_hdi","text":"object koma_hdi object. ... Unused. digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_hdi Objects — summary.koma_hdi","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdr.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for koma_hdr Objects — summary.koma_hdr","title":"Summary for koma_hdr Objects — summary.koma_hdr","text":"Prints HDR intervals single numeric sample.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for koma_hdr Objects — summary.koma_hdr","text":"","code":"# S3 method for class 'koma_hdr' summary(object, ..., digits = 3)"},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for koma_hdr Objects — summary.koma_hdr","text":"object koma_hdr object. ... Unused. digits Number digits round numeric values. Default 3.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary.koma_hdr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for koma_hdr Objects — summary.koma_hdr","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_forecast_format_num.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast Summary Helpers — summary_forecast_format_num","title":"Forecast Summary Helpers — summary_forecast_format_num","text":"Shared helpers forecast summary tables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_forecast_format_num.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast Summary Helpers — summary_forecast_format_num","text":"","code":"summary_forecast_format_num(x, digits)"},{"path":"https://timothymerlin.github.io/koma/reference/summary_interval_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize Interval Estimates for koma_estimate_* Objects — summary_interval_table","title":"Summarize Interval Estimates for koma_estimate_* Objects — summary_interval_table","text":"Summarize Interval Estimates koma_estimate_* Objects","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_interval_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize Interval Estimates for koma_estimate_* Objects — summary_interval_table","text":"","code":"summary_interval_table(   object,   variables = NULL,   params = NULL,   digits = 3,   center_label = \"Mode\",   interval_label = \"HDR\" )"},{"path":"https://timothymerlin.github.io/koma/reference/summary_interval_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize Interval Estimates for koma_estimate_* Objects — summary_interval_table","text":"object koma_estimate_* object interval output. variables Optional character vector filter variables. params Optional character vector filter parameters (e.g., \"beta\", \"gamma\", \"sigma\"). digits Number digits round numeric values. center_label Label center statistic (e.g., \"Mode\", \"Median\"). interval_label Label interval type (e.g., \"HDR\", \"HDI\").","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_interval_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize Interval Estimates for koma_estimate_* Objects — summary_interval_table","text":"Invisibly returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_statistics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Summary Statistics for Estimates — summary_statistics","title":"Calculate Summary Statistics for Estimates — summary_statistics","text":"Computes summary statistics specified endogenous variable within system equations. returns coefficients standard errors equation's variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_statistics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Summary Statistics for Estimates — summary_statistics","text":"","code":"summary_statistics(   endogenous_variables,   estimates,   sys_eq,   central_tendency = \"mean\",   ci_low = 5,   ci_up = 95 )"},{"path":"https://timothymerlin.github.io/koma/reference/summary_statistics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Summary Statistics for Estimates — summary_statistics","text":"endogenous_variables character vector name(s) stochastic endogenous variable summarize. estimates list estimates stochastic endogenous variable. sys_eq list containing endogenous exogenous variables, character_gamma_matrix, character_beta_matrix. central_tendency character string indicating central tendency measure (\"mean\" \"median\") use summary statistics. Default \"mean\". ci_low lower bound confidence interval percentile. Default 5. ci_up upper bound confidence interval percentile. Default 95.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/summary_statistics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Summary Statistics for Estimates — summary_statistics","text":"list summary statistics endogenous variable.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":null,"dir":"Reference","previous_headings":"","what":"System of Equations Class — system_of_equations","title":"System of Equations Class — system_of_equations","text":"Create manipulate system equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"System of Equations Class — system_of_equations","text":"","code":"system_of_equations(equations = vector(), exogenous_variables = vector(), ...)"},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"System of Equations Class — system_of_equations","text":"equations character string vector containing system equations. single string, equations separated commas. exogenous_variables character vector exogenous variables. ... Additional arguments future extensions.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"System of Equations Class — system_of_equations","text":"object class koma_seq following components: equations: character vector equations. endogenous_variables: character vector endogenous variables. stochastic_equations: character vector stochastic equations. identities: character vector identity equations. character_gamma_matrix: gamma matrix character form. character_beta_matrix: beta matrix character form. predetermined_variables: character vector lagged variables. total_exogenous_variables: character vector combined constant, predetermined, exogenous variables. priors: list priors per equation.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"System of Equations Class — system_of_equations","text":"function constructs object class koma_seq representing system equations, extracting organizing key components like endogenous variables, gamma matrix, beta matrix, . Equations separated commas provided single string.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"equations","dir":"Reference","previous_headings":"","what":"Equations","title":"System of Equations Class — system_of_equations","text":"Stochastic equations use ~ (e.g. y ~ x1 + x2). Identity equations use == (e.g. y == 0.5*x1 + 0.5*x2). Lagged variables denoted X.L(x) variable X lag L(x) (e.g. .L(1), .L(2)). Intercept included default, can also explicitly specify constant adding constant equation (e.g. y ~ constant + x1). exclude intercept, add +0 -1 equation (e.g. y ~ 0 + x1). details equation syntax, see vignette(\"equations\").","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/system_of_equations.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"System of Equations Class — system_of_equations","text":"","code":"equations <-   \"consumption ~ gdp + consumption.L(1) + consumption.L(2), investment ~ gdp + investment.L(1) + real_interest_rate, current_account ~ current_account.L(1) + world_gdp, manufacturing ~ manufacturing.L(1) + world_gdp, service ~ service.L(1) + population + gdp, gdp == 0.4*manufacturing + 0.6*service\"  exogenous_variables <- c(\"real_interest_rate\", \"world_gdp\", \"population\")  system <- system_of_equations(equations, exogenous_variables) print(system) #>  #> ── System of Equations ───────────────────────────────────────────────────────── #>     consumption ~  constant + gdp + consumption.L(1) + consumption.L(2) #>      investment ~  constant + gdp + investment.L(1) + real_interest_rate #> current_account ~  constant + current_account.L(1) + world_gdp #>   manufacturing ~  constant + manufacturing.L(1) + world_gdp #>         service ~  constant + service.L(1) + population + gdp #>             gdp == 0.4 * manufacturing + 0.6 * service"},{"path":"https://timothymerlin.github.io/koma/reference/target_j.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the target function for the jth equation — target_j","title":"Compute the target function for the jth equation — target_j","text":"target_j calculates target function used Metropolis-Hastings (MH) algorithm given equation \\(j\\). target function used MH algorithm accept reject proposed new states Markov chain.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the target function for the jth equation — target_j","text":"","code":"target_j(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_parameters_j )"},{"path":"https://timothymerlin.github.io/koma/reference/target_j.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the target function for the jth equation — target_j","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_parameters_j \\((n_j \\times 1)\\) matrix parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the target function for the jth equation — target_j","text":"function returns evaluation target function, used decide whether accept reject proposed states MH algorithm. Returns NA gamma parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the target function for the jth equation for informative priors — target_j_informative","title":"Compute the target function for the jth equation for informative priors — target_j_informative","text":"target_j_informative calculates target function used Metropolis-Hastings (MH) algorithm given equation \\(j\\). target function used MH algorithm accept reject proposed new states Markov chain.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the target function for the jth equation for informative priors — target_j_informative","text":"","code":"target_j_informative(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw,   omega_jw,   theta_jw,   priors_j )"},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the target function for the jth equation for informative priors — target_j_informative","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\). omega_jw \\({\\Omega}_j^{(w)}\\) theta_jw \\((k \\times nj+1)\\), \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the target function for the jth equation for informative priors — target_j_informative","text":"function returns evaluation target function, used decide whether accept reject proposed states MH algorithm. Returns NA gamma parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative_initial.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the target function for the jth equation — target_j_informative_initial","title":"Compute the target function for the jth equation — target_j_informative_initial","text":"target_j_informative_initial calculates target function used Metropolis-Hastings (MH) algorithm given equation \\(j\\). target function used MH algorithm accept reject proposed new states Markov chain.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative_initial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the target function for the jth equation — target_j_informative_initial","text":"","code":"target_j_informative_initial(   y_matrix,   x_matrix,   character_gamma_matrix,   character_beta_matrix,   jx,   gamma_jw )"},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative_initial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the target function for the jth equation — target_j_informative_initial","text":"y_matrix \\((T \\times n)\\) matrix \\(Y\\), \\(T\\) number observations \\(n\\) number equations, .e. endogenous variables. x_matrix \\((T \\times k)\\) matrix \\(X\\) observations \\(k\\) exogenous variables. character_gamma_matrix matrix \\(\\Gamma\\) holds coefficients character form equations. dimensions matrix \\((T \\times n)\\), \\(T\\) number observations \\(n\\) number equations. character_beta_matrix matrix \\(\\beta\\) holds coefficients character form equations. dimensions matrix \\((k \\times n)\\), \\(k\\) number exogenous variables \\(n\\) number equations. jx index equation \\(j\\). gamma_jw \\((n_j \\times 1)\\) vector parameters gamma matrix, \\(n_j\\) number endogenous variables equation \\(j\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/target_j_informative_initial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the target function for the jth equation — target_j_informative_initial","text":"function returns evaluation target function, used decide whether accept reject proposed states MH algorithm. Returns NA gamma parameters.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/the.html","id":null,"dir":"Reference","previous_headings":"","what":"Define the internal environment of the package — the","title":"Define the internal environment of the package — the","text":"Define internal environment package","code":""},{"path":"https://timothymerlin.github.io/koma/reference/the.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Define the internal environment of the package — the","text":"","code":"the"},{"path":"https://timothymerlin.github.io/koma/reference/the.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Define the internal environment of the package — the","text":"object class environment length 1.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/to_long.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Time Series from Wide to Long Format — to_long","title":"Convert Time Series from Wide to Long Format — to_long","text":"function returns data long format.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/to_long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Time Series from Wide to Long Format — to_long","text":"","code":"to_long(mts, start)"},{"path":"https://timothymerlin.github.io/koma/reference/to_long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Time Series from Wide to Long Format — to_long","text":"mts multivariate time series object. start numeric value representing forecast start date.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/to_long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Time Series from Wide to Long Format — to_long","text":"data frame long format containing original data along sample status, dates, frame identifiers.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/trace_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Trace Plots for koma_estimate Objects — trace_plot","title":"Trace Plots for koma_estimate Objects — trace_plot","text":"Visualize MCMC trace plots coefficient draws koma_estimate object. default, beta, gamma, sigma draws shown available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/trace_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trace Plots for koma_estimate Objects — trace_plot","text":"","code":"trace_plot(x, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/trace_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trace Plots for koma_estimate Objects — trace_plot","text":"x koma_estimate object. ... Additional arguments controlling plot. See Details.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/trace_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trace Plots for koma_estimate Objects — trace_plot","text":"ggplot object, plotly object interactive = TRUE plotly available.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/trace_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Trace Plots for koma_estimate Objects — trace_plot","text":"Additional arguments supported ...: variables Optional character vector endogenous variables plot. params Optional character vector parameter groups plot (e.g., \"beta\", \"gamma\", \"sigma\"). Defaults available. thin Optional integer thinning interval stored draws. Default 1 (thinning). max_draws Optional integer cap number draws per trace. set, recent draws kept. scales Facet scale option passed ggplot2::facet_wrap. Default \"free_y\". facet_ncol Optional integer number columns facets. interactive Logical. TRUE plotly available, return interactive plot via plotly::ggplotly. Default FALSE. Note: sigma plots use omega_tilde_jw show variances (covariances) covariance draw.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/type.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the type of a koma_ts object — type","title":"Get the type of a koma_ts object — type","text":"Get type koma_ts object","code":""},{"path":"https://timothymerlin.github.io/koma/reference/type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the type of a koma_ts object — type","text":"","code":"type(x, type, var = NULL, ...)"},{"path":"https://timothymerlin.github.io/koma/reference/type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the type of a koma_ts object — type","text":"x koma_ts object. type type filter . var optional variable filter . ... arguments passed methods (unused default method).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the type of a koma_ts object — type","text":"koma_ts object specified type.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_anker.html","id":null,"dir":"Reference","previous_headings":"","what":"Update anker — update_anker","title":"Update anker — update_anker","text":"function updates anker last observation realized data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_anker.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update anker — update_anker","text":"","code":"update_anker(x, y)"},{"path":"https://timothymerlin.github.io/koma/reference/update_anker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update anker — update_anker","text":"x Time series object class koma_ts realized / historical data. y Time series object class koma_ts forecast data.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_anker.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update anker — update_anker","text":"Return y class koma_ts updated anker.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_estimates_with_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Gamma and Beta Matrices with Identity Weights — update_estimates_with_weights","title":"Update Gamma and Beta Matrices with Identity Weights — update_estimates_with_weights","text":"function injects identity weights structural coefficient matrices. identity component, finds target entry encoded theta name (e.g., \"theta6_4\") replaces corresponding value \\(\\Gamma\\) \\(B\\).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_estimates_with_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Gamma and Beta Matrices with Identity Weights — update_estimates_with_weights","text":"","code":"update_estimates_with_weights(identities, gamma_matrix, beta_matrix)"},{"path":"https://timothymerlin.github.io/koma/reference/update_estimates_with_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Gamma and Beta Matrices with Identity Weights — update_estimates_with_weights","text":"identities list identity equations. gamma_matrix Initial \\(\\Gamma\\) matrix (structural coefficients). beta_matrix Initial \\(B\\) matrix (exogenous coefficients).","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_estimates_with_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Gamma and Beta Matrices with Identity Weights — update_estimates_with_weights","text":"list containing: gamma_matrix: \\(\\Gamma\\) updated identity weights. beta_matrix: \\(B\\) updated identity weights.","code":""},{"path":[]},{"path":"https://timothymerlin.github.io/koma/reference/update_identity_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Identity Weights — update_identity_weights","title":"Update Identity Weights — update_identity_weights","text":"Iteratively updates weights identity list (identities) based last value corresponding weights found weights list.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_identity_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Identity Weights — update_identity_weights","text":"","code":"update_identity_weights(weights, identities)"},{"path":"https://timothymerlin.github.io/koma/reference/update_identity_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Identity Weights — update_identity_weights","text":"weights named list entry represents equation (e.g., \"gdp\"). equation named list, containing variable names (e.g., \"manufacturing\") dynamic weight values. Example: list(gdp = list(manufacturing = c(0.2, 0.3), service = c(0.7, 0.6))) identities named list, entry represents equation similar weights. equation sublists \"components\" variable names \"weights\" identity weights. Example: list(gdp = list(components = list(manufacturing = \"theta6_4\"),                 weights = list(theta6_4 = NULL)))","code":""},{"path":"https://timothymerlin.github.io/koma/reference/update_identity_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Identity Weights — update_identity_weights","text":"named list containing updated identity weights equation variables, structure input identities.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_completeness.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Completeness — validate_completeness","title":"Validate Completeness — validate_completeness","text":"function checks exogenous variables declared.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_completeness.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Completeness — validate_completeness","text":"","code":"validate_completeness(equations, exogenous_variables)"},{"path":"https://timothymerlin.github.io/koma/reference/validate_completeness.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Completeness — validate_completeness","text":"equations character string vector containing system equations. single string, equations separated commas. exogenous_variables character vector exogenous variables.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_completeness.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Completeness — validate_completeness","text":"Logical. Returns TRUE equation valid. Throws error specific message checks fail.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_equation.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Individual Equation — validate_equation","title":"Validate Individual Equation — validate_equation","text":"function validates individual equation ensure follows specific structure. expected format equation \"left_variable == right_variables\", right_variables can combination variables separated '+', '-', '*'. function checks following: Validity variable names. Correct structure (exactly one '==' separator). Stochastic error term epsilon must last element. Duplicate regressors within single equation allowed.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_equation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Individual Equation — validate_equation","text":"","code":"validate_equation(equation)"},{"path":"https://timothymerlin.github.io/koma/reference/validate_equation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Individual Equation — validate_equation","text":"equation character string representing equation format \"left_variable == right_variables\".","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_equation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Individual Equation — validate_equation","text":"Logical. Returns TRUE equation valid. Throws error specific message checks fail.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_identities.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Identity Equations in Forecast Output — validate_identities","title":"Check Identity Equations in Forecast Output — validate_identities","text":"Recomputes identity component series weights, warns deviations exceed tol. Intended safeguard identity drift.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_identities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Identity Equations in Forecast Output — validate_identities","text":"","code":"validate_identities(ts_out, identities, tol = 1e-08, x_matrix = NULL)"},{"path":"https://timothymerlin.github.io/koma/reference/validate_identities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Identity Equations in Forecast Output — validate_identities","text":"ts_out forecast output time-series matrix. identities named list identity definitions produced get_identities() updated get_seq_weights(). tol Numeric tolerance deviations identity reconstructed value. x_matrix Optional matrix exogenous variables include checking identities.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_identities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Identity Equations in Forecast Output — validate_identities","text":"Invisibly returns NULL.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_system_of_equations.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Equations — validate_system_of_equations","title":"Validate Equations — validate_system_of_equations","text":"function validates character vector equations, ensuring adhere specific format. equations format \"left_variable==right_variables\", right variables can separated '+', '-', '*'. function checks valid equation structure, valid variable names, duplicate regressors single equation, duplicate dependent variables across equations.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/validate_system_of_equations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Equations — validate_system_of_equations","text":"","code":"validate_system_of_equations(x)"},{"path":"https://timothymerlin.github.io/koma/reference/validate_system_of_equations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Equations — validate_system_of_equations","text":"Returns object.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/vector_to_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert Vector to Matrix — vector_to_matrix","title":"Convert Vector to Matrix — vector_to_matrix","text":"Given transformation matrix, vector parameters, constant vector, function constructs matrix specified row column dimensions. vector = transformation_matrix %*% parameters, constant_vector vector = vec(matrix)","code":""},{"path":"https://timothymerlin.github.io/koma/reference/vector_to_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert Vector to Matrix — vector_to_matrix","text":"","code":"vector_to_matrix(   transformation_matrix,   parameters,   constant_vector,   nrow,   ncol )"},{"path":"https://timothymerlin.github.io/koma/reference/vector_to_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert Vector to Matrix — vector_to_matrix","text":"transformation_matrix numeric matrix used parameter transformation. parameters numeric vector parameters. constant_vector numeric vector constant terms. nrow Number rows resulting matrix. ncol Number columns resulting matrix.","code":""},{"path":"https://timothymerlin.github.io/koma/reference/vector_to_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert Vector to Matrix — vector_to_matrix","text":"numeric matrix specified row column dimensions.","code":""},{"path":"https://timothymerlin.github.io/koma/news/index.html","id":"koma-021","dir":"Changelog","previous_headings":"","what":"koma 0.2.1","title":"koma 0.2.1","text":"Fix pkgdown site build adding package URL completing _pkgdown.yml reference index.","code":""},{"path":"https://timothymerlin.github.io/koma/news/index.html","id":"koma-020","dir":"Changelog","previous_headings":"","what":"koma 0.2.0","title":"koma 0.2.0","text":"Added fan chart support forecast plots, including density-based visuals built stochastic draws. Added growth-rate whiskers forecast plots fan charts enabled. Improved conditional forecasting behavior messaging. Tightened forecast/estimation validation fixed several forecasting edge cases. Expanded estimation utilities: support ts inputs, per-series ts→ets overrides, richer texreg extracts/summaries. Added/updated documentation vignettes (error correction, extract methods, forecast output guidance). Reduced/adjusted dependencies (e.g., removed expm, tidyr, stringr; moved plotly Suggests; added standalone Wishart helpers). Improved CI tooling (GitHub Actions checks, codecov, release/tag workflows, renv handling). Added summary() output koma_forecast mean/median quantile columns. Added MCMC trace plots via trace_plot() coefficient diagnostics. Added running-mean diagnostics via running_mean() running_mean_plot(). Added autocorrelation diagnostics via acf_plot().","code":""},{"path":"https://timothymerlin.github.io/koma/news/index.html","id":"koma-010","dir":"Changelog","previous_headings":"","what":"koma 0.1.0","title":"koma 0.1.0","text":"Initial github release.","code":""}]
